<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>WB Employee Salary Slip Generator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: 'Roboto', sans-serif;
        margin: 10px; /* Reduced margin for mobile */
        background: #f5f8fc;
        color: #333;
        box-sizing: border-box; /* Ensure padding and border are included in element's total width and height */
      }

      .container {
        max-width: 900px; /* Adjusted max-width for better use of space */
        margin: 0 auto;
        background: #fff;
        padding: 20px; /* Reduced padding for mobile */
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        box-sizing: border-box;
      }

      h2 {
        text-align: center;
        color: #003366;
        margin-bottom: 20px; /* Adjusted margin */
        font-size: 2em; /* Adjusted font size */
        font-weight: 700;
      }

      h3 {
        text-align: center;
        color: #003366;
        margin-bottom: 15px; /* Adjusted margin */
        font-size: 1.4em; /* Adjusted font size */
        font-weight: 700;
      }

      .form-section,
      .preview-section,
      .disclaimer-page,
      .note-page {
        margin-bottom: 15px; /* Adjusted margin */
        border: 1px solid #ddd;
        padding: 15px; /* Adjusted padding */
        border-radius: 8px;
        background-color: #fdfdfd;
        box-sizing: border-box;
      }

      .form-section label {
        display: block;
        width: auto;
        margin-bottom: 5px; /* Adjusted margin */
        font-weight: bold;
        color: #555;
        margin-top: 10px; /* Adjusted margin */
        font-size: 0.95em; /* Slightly smaller font for labels */
      }

      .form-section input,
      .form-section select {
        width: 100%; /* Full width for mobile */
        padding: 8px; /* Adjusted padding */
        margin-bottom: 10px; /* Adjusted margin */
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 0.9em; /* Slightly smaller font for inputs */
        box-sizing: border-box;
      }

      .preview-section {
        display: none;
        background-color: #fff;
        padding: 20px; /* Adjusted padding */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        box-sizing: border-box;
      }

      .preview-section table {
        width: 100%;
        border-collapse: collapse;
        border: 1px solid #bbb;
        margin-top: 15px; /* Adjusted margin */
        font-size: 0.85em; /* Smaller font for table content */
      }

      .preview-section table th,
      .preview-section table td {
        border: 1px solid #ccc;
        padding: 8px; /* Adjusted padding */
        text-align: left;
        color: #444;
      }

      .preview-section th {
        font-weight: 700;
        background-color: #e6f2ff;
        color: #003366;
        text-transform: uppercase;
      }

      .total-row td {
        font-weight: bold;
        background-color: #f0f8ff;
      }

      /* Specific border styles for total-row cells for visual distinction, adjusted for consistency */
      .total-row td:nth-child(1),
      .total-row td:nth-child(2),
      .total-row td:nth-child(4) {
        border-top: 2px solid #000;
        border-bottom: 2px solid #000;
        border-left: 1px solid #000;
        border-right: 1px solid #000;
      }

      .total-row td:nth-child(1) {
        border-left: 2px solid #000;
      }

      .total-row td:nth-child(2) {
        border-right: 2px solid #000;
      }

      .total-row td:nth-child(4) {
        border-right: 2px solid #000;
      }

      .center {
        text-align: center;
        border: 1px solid #ddd;
        padding: 10px; /* Adjusted padding */
        margin-bottom: 10px; /* Adjusted margin */
        background-color: #f9f9f9;
        border-radius: 8px;
      }

      .left {
        text-align: left;
      }

      .details-container {
        border: 1px solid #ddd;
        padding: 10px; /* Adjusted padding */
        margin-bottom: 10px; /* Adjusted margin */
        background-color: #f9f9f9;
        border-radius: 8px;
      }

      .details-row {
        display: flex;
        flex-direction: column; /* Stack items vertically on mobile */
        margin-bottom: 5px;
      }

      .details-row span {
        width: 100%; /* Full width for stacked items */
        margin-bottom: 5px;
        word-wrap: break-word; /* Ensure long text wraps */
      }

      .footer-section {
        border: 1px solid #ddd;
        padding: 10px; /* Adjusted padding */
        margin-top: 15px;
        margin-bottom: 15px;
        background-color: #f9f9f9;
        border-radius: 8px;
      }

      .footer-section p {
        margin-bottom: 5px; /* Adjusted margin */
        line-height: 1.4;
        font-size: 0.9em; /* Adjusted font size */
      }

      .small-print {
        border: 1px solid #ddd;
        padding: 8px; /* Adjusted padding */
        margin-bottom: 15px;
        background-color: #f9f9f9;
        border-radius: 8px;
        font-size: 0.75em; /* Smaller font for small print */
        line-height: 1.3;
        color: #666;
      }

      .signature-seal {
        display: none; /* Hidden by default, shown in print media */
        margin-top: 20px; /* Adjusted margin */
        text-align: right;
        border-top: 1px dashed #ccc;
        padding-top: 15px; /* Adjusted padding */
        display: flex; /* Use flexbox for layout */
        justify-content: space-between; /* Space out elements */
        align-items: flex-end; /* Align to the bottom */
      }

      .signature-seal .left-signatures,
      .signature-seal .right-signature {
        flex: 1; /* Allow flex items to grow */
      }

      .signature-seal .left-signatures {
        text-align: left; /* Align HM/TIC/Seal to the left */
      }

      .signature-seal .right-signature {
        text-align: right; /* Align Employee Signature to the right */
      }

      .signature-seal p {
        margin: 3px 0; /* Adjusted margin */
        font-weight: bold;
        color: #555;
        font-size: 0.9em; /* Adjusted font size */
      }

      .button {
        padding: 10px 20px; /* Adjusted padding */
        background-color: #0077cc;
        color: #fff;
        border: none;
        cursor: pointer;
        border-radius: 8px;
        font-size: 1em; /* Adjusted font size */
        margin-top: 15px; /* Adjusted margin */
        transition:
          background-color 0.3s ease,
          transform 0.2s ease;
        box-shadow: 0 2px 5px rgba(0, 119, 204, 0.3);
        width: 100%; /* Full width for mobile */
      }

      .button:hover {
        background-color: #005fa3;
        transform: translateY(-2px);
      }

      .print-button-container {
        text-align: center;
        margin-top: 20px; /* Adjusted margin */
        margin-bottom: 15px; /* Adjusted margin */
      }

      .print-button-container .button {
        width: auto; /* Allow auto width for print button */
        padding: 10px 25px; /* Adjusted padding */
      }

      .disclaimer-page,
      .note-page {
        background-color: #fdfdfd;
        border: 1px solid #ddd;
        padding: 20px; /* Adjusted padding */
        margin-top: 20px; /* Adjusted margin */
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        font-size: 0.9em; /* Adjusted font size */
      }

      .disclaimer-page h3,
      .note-page h3 {
        font-size: 1.3em; /* Adjusted font size */
        margin-bottom: 10px; /* Adjusted margin */
      }

      .disclaimer-page p,
      .note-page p {
        line-height: 1.5;
        margin-bottom: 8px; /* Adjusted margin */
      }

      /* Custom Modal Styles */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal-content {
        background-color: #fff;
        padding: 25px; /* Adjusted padding */
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        text-align: center;
        max-width: 350px; /* Adjusted max-width */
        width: 90%;
        position: relative;
      }

      .modal-content h4 {
        margin-top: 0;
        color: #003366;
        font-size: 1.3em; /* Adjusted font size */
        margin-bottom: 15px; /* Adjusted margin */
      }

      .modal-content p {
        margin-bottom: 20px; /* Adjusted margin */
        font-size: 1em; /* Adjusted font size */
        color: #666;
      }

      .modal-content button {
        padding: 8px 15px; /* Adjusted padding */
        border-radius: 5px;
        font-size: 0.9em; /* Adjusted font size */
        width: auto;
        margin-top: 0;
      }

      /* Responsive adjustments for larger screens (optional, but good practice) */
      @media (min-width: 768px) {
        .container {
          padding: 25px;
        }
        .form-section input,
        .form-section select {
          width: calc(100% - 20px); /* Revert to original width calculation */
        }
        .details-row {
          flex-direction: row; /* Back to horizontal layout */
        }
        .details-row span {
          min-width: 48%; /* Revert to original min-width */
        }
        .button {
          width: auto; /* Allow buttons to be auto width */
        }
      }

      @media print {
        body,
        .container {
          margin: 0 !important;
          padding: 0 !important;
          width: 100% !important;
          max-width: none !important;
          box-shadow: none !important;
          background: none !important;
        }

        .form-section,
        .button,
        .disclaimer-page,
        .note-page,
        .print-button-container,
        .external-print-link {
          display: none !important; /* Hide external link in print */
        }

        .preview-section {
          display: block !important;
          border: 1px solid #000 !important;
          margin: 0 !important;
          padding: 10px !important;
          margin-bottom: 50px !important;
          box-shadow: none !important;
          background: none !important;
        }

        .center,
        .details-container,
        .footer-section,
        .small-print {
          border: 1px solid #000 !important;
          background: none !important;
          box-shadow: none !important;
        }

        .preview-section table,
        th,
        td {
          border: 1px solid #000 !important; /* Unified 1px border for all table cells in print */
        }

        /* Re-applying 2px borders for total-row only where explicitly needed for visual emphasis in print */
        .total-row td:nth-child(1),
        .total-row td:nth-child(2),
        .total-row td:nth-child(4) {
          border-top: 2px solid #000 !important;
          border-bottom: 2px solid #000 !important;
          border-left: 1px solid #000 !important;
          border-right: 1px solid #000 !important;
        }

        .total-row td:nth-child(1) {
          border-left: 2px solid #000 !important;
        }

        .total-row td:nth-child(2) {
          border-right: 2px solid #000 !important;
        }

        .total-row td:nth-child(4) {
          border-right: 2px solid #000 !important;
        }

        .signature-seal {
          display: flex !important; /* Ensure flexbox is active for print */
        }

        @page {
          margin: 0 !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>WB Employee Salary Slip Generator</h2>
      <div class="form-section">
        <h3>Enter Salary Slip Details</h3>
        <label for="officeOf">Office Of:</label
        ><input
          type="text"
          id="officeOf"
          placeholder="e.g., THE SUB INSPECTOR OF SCHOOLS"
        /><br />
        <label for="circle">Circle:</label
        ><input
          type="text"
          id="circle"
          placeholder="e.g., Your Circle Name"
        /><br />
        <label for="district">District Name:</label
        ><input
          type="text"
          id="district"
          placeholder="e.g., Your District Name"
        /><br />
        <label for="paySlipMonth">Pay Slip Month:</label
        ><input
          type="text"
          id="paySlipMonth"
          placeholder="e.g., APRIL 2017"
        /><br />
        <label for="employeeName">Employee Name:</label
        ><input
          type="text"
          id="employeeName"
          placeholder="e.g., John Doe"
        /><br />
        <label for="employeeId">Employee ID:</label
        ><input type="text" id="employeeId" placeholder="e.g., 12345" /><br />
        <label for="schoolName">School Name:</label
        ><input
          type="text"
          id="schoolName"
          placeholder="e.g., ABC High School"
        /><br />
        <label for="udiseCode">UDISE Code:</label
        ><input
          type="text"
          id="udiseCode"
          placeholder="e.g., 12345678901"
        /><br />
        <label for="designation">Designation:</label
        ><select id="designation">
          <option value="H.M">H.M</option>
          <option value="T.I.C">T.I.C</option>
          <option value="A.T">A.T</option></select
        ><br />
        <label for="level">Level:</label
        ><select id="level" onchange="updatePayOptions()">
          <option value="">Select Level</option>
          <option value="1">Level 1</option>
          <option value="2">Level 2</option>
          <option value="3">Level 3</option>
          <option value="4">Level 4</option>
          <option value="5">Level 5</option>
          <option value="6">Level 6</option>
          <option value="7">Level 7</option>
          <option value="8">Level 8</option>
          <option value="9">Level 9</option>
          <option value="10">Level 10</option>
          <option value="11">Level 11</option>
          <option value="12">Level 12</option>
          <option value="13">Level 13</option>
          <option value="14">Level 14</option>
          <option value="15">Level 15</option>
          <option value="15A">Level 15A</option>
          <option value="16">Level 16</option>
          <option value="17">Level 17</option>
          <option value="18">Level 18</option>
          <option value="19">Level 19</option>
          <option value="20">Level 20</option>
          <option value="21">Level 21</option>
          <option value="22">Level 22</option>
          <option value="23">Level 23</option>
          <option value="24">Level 24</option></select
        ><br />
        <label for="pay">Basic Pay (Rs):</label
        ><select id="pay" onchange="calculateDAandHRA()">
          <option value="">Select Pay</option></select
        ><br />
        <label for="da">DA (Rs):</label
        ><input type="text" id="da" readonly /><br />
        <label for="hra">HRA (Rs):</label
        ><input type="text" id="hra" readonly /><br />
        <label for="ma">MA (Rs):</label
        ><input type="number" id="ma" placeholder="e.g., 300" /><br />
        <label for="gpf">GPF (Rs):</label
        ><input type="number" id="gpf" placeholder="e.g., 5000" /><br />
        <label for="pan">PAN:</label
        ><input type="text" id="pan" placeholder="e.g., ABCDE1234F" /><br />
        <label for="bankName">Bank Name:</label
        ><select id="bankName">
          <option value="SBI">SBI</option>
          <option value="HDFC">HDFC</option>
          <option value="ICICI">ICICI</option>
          <option value="PNB">Punjab National Bank (PNB)</option>
          <option value="BOB">Bank of Baroda (BOB)</option>
          <option value="Axis">Axis Bank</option>
          <option value="Canara">Canara Bank</option>
          <option value="UBI">Union Bank of India</option>
          <option value="Kotak">Kotak Mahindra Bank</option>
          <option value="Indian">Indian Bank</option></select
        ><br />
        <label for="accountNo">Account Number:</label
        ><input
          type="text"
          id="accountNo"
          placeholder="e.g., 1234567890"
        /><br />
        <label for="ifscCode">IFSC Code:</label
        ><input
          type="text"
          id="ifscCode"
          placeholder="e.g., SBIN0001234"
        /><br />
        <button class="button" onclick="generateSlip()">
          Generate Salary Slip
        </button>
      </div>
      <div class="preview-section" id="previewSection">
        <div class="center">
          <h3 id="officeOfPreview"></h3>
          <p>
            CIRCLE:
            <span id="circlePreview"></span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            DISTRICT NAME: <span id="districtPreview"></span>
          </p>
          <h3>
            PAY SLIP FOR THE MONTH OF <span id="paySlipMonthPreview"></span>
          </h3>
        </div>
        <div class="left">
          <div class="details-container">
            <div class="details-row">
              <span class="left-item"
                ><strong>EMPLOYEE NAME:</strong>
                <span id="employeeNamePreview"></span></span
              ><span class="right-item"
                ><strong>EMPLOYEE ID:</strong>
                <span id="employeeIdPreview"></span
              ></span>
            </div>
            <div class="details-row">
              <span class="left-item"
                ><strong>SCHOOL NAME:</strong>
                <span id="schoolNamePreview"></span></span
              ><span class="right-item"
                >(<strong>UDISE:</strong> <span id="udiseCodePreview"></span>)
                <strong>DESIGNATION:</strong>
                <span id="designationPreview"></span
              ></span>
            </div>
            <div class="details-row">
              <span class="left-item"
                ><strong>LEVEL:</strong> <span id="levelPreview"></span></span
              ><span class="right-item"
                ><strong>PAN:</strong> <span id="panPreview"></span
              ></span>
            </div>
          </div>
        </div>
        <div class="table-responsive">
          <!-- Added wrapper for horizontal scroll -->
          <table>
            <tr>
              <th>EARNING(Rs)</th>
              <th></th>
              <th>DEDUCTION(Rs)</th>
              <th></th>
              <th>RECOVERIES OF LOAN(Rs)</th>
              <th></th>
              <th>OUT/ACCT.DED(Rs)</th>
              <th></th>
            </tr>
            <tr>
              <td>PAY</td>
              <td id="payPreview"></td>
              <td>GPF</td>
              <td id="gpfPreview"></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>DA</td>
              <td id="daPreview"></td>
              <td>P.TAX</td>
              <td id="ptaxPreview"></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>HRA</td>
              <td id="hraPreview"></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>MA</td>
              <td id="maPreview"></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr class="total-row">
              <td><strong>Total</strong></td>
              <td id="totalEarningsPreview"></td>
              <td></td>
              <td id="totalDeductionsPreview"></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </table>
        </div>
        <div class="left">
          <div class="footer-section">
            <p>
              <strong>GROSS PAY:</strong> <span id="grossPayPreview"></span>
            </p>
            <p>
              <strong>NET PAY:</strong> <span id="netPayPreview"></span> (Rupees
              <span id="netPayWordsPreview"></span> only)
            </p>
            <p>
              Transferred to <span id="bankNamePreview"></span>
              <span id="accountNoPreview"></span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              IFSC CODE <span id="ifscCodePreview"></span>
            </p>
          </div>
        </div>
        <div class="small-print">
          <small>
            <p>
              DA: Dearness Allowance, HRA: House Rent Allowance, MA: Medical
              Allowance, CA: Conveyance Allowance,
            </p>
            <p>
              CPF: Contributory Provident Fund, GPF: Govt. Provident Fund, P.T.:
              Professional Tax, I.T.: Income Tax,
            </p>
            <p>GSLI: Group Savings Linked Insurance.</p>
          </small>
        </div>

        <!-- Print Button Container - Moved here -->
        <div class="print-button-container" id="printButtonContainer">
          <button class="button" onclick="printSlip()">
            Print Salary Slip
          </button>
        </div>

        <!-- External link section - will be hidden in print -->
        <p
          class="external-print-link"
          style="
            text-align: center;
            margin-top: 20px;
            font-size: 16px;
            color: #002147;
          "
        >
          If you want to print or save your salary slip in PDF format,<br />
          <a
            href="https://wbcalculator.com/wb-employee-salary-slip/west-bengal-employee-pay-slip-download.html"
            target="_blank"
            style="
              color: #d62828;
              text-decoration: underline;
              font-weight: bold;
            "
          >
            just click here
          </a>
        </p>

        <div class="disclaimer-page">
          <h3>Disclaimer</h3>
          <p>
            This salary slip generator is provided for informational purposes
            only. The generated salary slip is not an official document and
            should not be used for legal, financial, or taxation purposes. All
            calculations are based on the input provided by the user and may not
            reflect actual salary structures, deductions, or allowances as per
            the latest government or organizational policies.
          </p>
          <p>
            We do not guarantee the accuracy, completeness, or reliability of
            the information provided by this tool. Users are advised to consult
            with their employer, financial advisor, or relevant authorities for
            official salary details and documentation.
          </p>
          <p>
            Use of this tool is at your own risk, and the creators of this
            application will not be liable for any damages or losses arising
            from its use.
          </p>
        </div>
        <div class="note-page">
          <h3>Notes</h3>
          <p>
            <strong>1. Input Accuracy:</strong> Ensure all inputs such as Basic
            Pay, Level, and Deductions are accurate to generate a meaningful
            salary slip preview.
          </p>
          <p>
            <strong>2. Allowance Calculations:</strong> Dearness Allowance (DA)
            is calculated as 18% of Basic Pay, and House Rent Allowance (HRA) is
            calculated as 12% of Basic Pay. These rates are for demonstration
            purposes and may vary based on actual policies.
          </p>
          <p>
            <strong>3. Professional Tax (P.Tax):</strong> P.Tax is calculated
            based on the gross salary as per the predefined slabs in the
            application. Verify with your local tax regulations for accuracy.
          </p>
          <p>
            <strong>4. Printing:</strong> Use the "Print Salary Slip" button to
            print the generated salary slip. Ensure your printer settings are
            adjusted to "Fit to Page" to avoid content cutoff.
          </p>
          <p>
            <strong>5. Support:</strong> For any issues or queries regarding
            this tool, please contact your system administrator or the tool
            provider.
          </p>
        </div>
        <div class="signature-seal">
          <div class="left-signatures">
            <p>H.M/T.I.C SIGNATURE__________________</p>
            <p>SEAL___________________________________</p>
          </div>
          <div class="right-signature">
            <p>EMPLOYEE SIGNATURE___________________</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Custom Modal Structure -->
    <div id="customModal" class="modal-overlay">
      <div class="modal-content">
        <h4>Feature Not Available</h4>
        <p id="modalMessage">
          This feature is only available when running inside a compatible
          Android application.
        </p>
        <button onclick="hideModal()">OK</button>
      </div>
    </div>

    <script>
      const payMatrix = [
        { level: '1', entryBasicPay: 17000 },
        { level: '2', entryBasicPay: 17600 },
        {
          level: '3',
          entryBasicPay: 18800,
        },
        { level: '4', entryBasicPay: 19700 },
        { level: '5', entryBasicPay: 21000 },
        {
          level: '6',
          entryBasicPay: 22700,
        },
        { level: '7', entryBasicPay: 27000 },
        { level: '8', entryBasicPay: 28900 },
        {
          level: '9',
          entryBasicPay: 31800,
        },
        { level: '10', entryBasicPay: 33000 },
        { level: '11', entryBasicPay: 33400 },
        {
          level: '12',
          entryBasicPay: 35800,
        },
        { level: '13', entryBasicPay: 37100 },
        { level: '14', entryBasicPay: 39900 },
        {
          level: '15',
          entryBasicPay: 42600,
        },
        { level: '15A', entryBasicPay: 52200 },
        { level: '16', entryBasicPay: 56100 },
        {
          level: '17',
          entryBasicPay: 67300,
        },
        { level: '18', entryBasicPay: 68400 },
        { level: '19', entryBasicPay: 95100 },
        {
          level: '20',
          entryBasicPay: 96100,
        },
        { level: '21', entryBasicPay: 123100 },
        { level: '22', entryBasicPay: 123600 },
        {
          level: '23',
          entryBasicPay: 125200,
        },
        { level: '24', entryBasicPay: 128900 },
      ];
      const levelPayScales = {
        1: [
          17000, 17500, 18000, 18500, 19100, 19700, 20300, 20900, 21500, 22100,
          22800, 23500, 24200, 24900, 25600, 26400, 27200, 28000, 28800, 29700,
          30600, 31500, 32400, 33400, 34400, 35400, 36500, 37600, 38700, 39900,
          41100, 42300, 43600,
        ],
        2: [
          17600, 18100, 18600, 19200, 19800, 20400, 21000, 21600, 22200, 22900,
          23600, 24300, 25000, 25800, 26600, 27400, 28200, 29000, 29900, 30800,
          31700, 32700, 33700, 34700, 35700, 36800, 37900, 39000, 40200, 41400,
          42600, 43900, 45200,
        ],
        3: [
          18800, 19400, 20000, 20600, 21200, 21800, 22500, 23200, 23900, 24600,
          25300, 26100, 26900, 27700, 28500, 29400, 30300, 31200, 32100, 33100,
          34100, 35100, 36200, 37300, 38400, 39600, 40800, 42000, 43300, 44600,
          45900, 47300, 48700,
        ],
        4: [
          19700, 20300, 20900, 21500, 22100, 22800, 23500, 24200, 24900, 25600,
          26400, 27200, 28000, 28800, 29700, 30600, 31500, 32400, 33400, 34400,
          35400, 36500, 37600, 38700, 39900, 41100, 42300, 43600, 44900, 46200,
          47600, 49000, 50500,
        ],
        5: [
          21000, 21600, 22200, 22900, 23600, 24300, 25000, 25800, 26600, 27400,
          28200, 29000, 29900, 30800, 31700, 32700, 33700, 34700, 35700, 36800,
          37900, 39000, 40200, 41400, 42600, 43900, 45200, 46600, 48000, 49400,
          50900, 52400, 54000,
        ],
        6: [
          22700, 23400, 24100, 24800, 25500, 26300, 27100, 27900, 28700, 29600,
          30500, 31400, 32300, 33300, 34300, 35300, 36400, 37500, 38600, 39800,
          41000, 42200, 43500, 44800, 46100, 47500, 48900, 50400, 51900, 53500,
          55100, 56800, 58500,
        ],
        7: [
          24700, 25400, 26200, 27000, 27800, 28600, 29500, 30400, 31300, 32200,
          33200, 34200, 35200, 36300, 37400, 38500, 39700, 40900, 42100, 43400,
          44700, 46000, 47400, 48800, 50300, 51800, 53400, 55000, 56700, 58400,
          60200, 62000, 63900,
        ],
        8: [
          27000, 27800, 28600, 29500, 30400, 31300, 32200, 33200, 34200, 35200,
          36300, 37400, 38500, 39700, 40900, 42100, 43400, 44700, 46000, 47400,
          48800, 50300, 51800, 53400, 55000, 56700, 58400, 60200, 62000, 63900,
          65800, 67800, 69800,
        ],
        9: [
          28900, 29800, 30700, 31600, 32500, 33500, 34500, 35500, 36600, 37700,
          38800, 40000, 41200, 42400, 43700, 45000, 46400, 47800, 49200, 50700,
          52200, 53800, 55400, 57100, 58800, 60600, 62400, 64300, 66200, 68200,
          70200, 72300, 74500,
        ],
        10: [
          32100, 33100, 34100, 35100, 36200, 37300, 38400, 39600, 40800, 42000,
          43300, 44600, 45900, 47300, 48700, 50200, 51700, 53300, 54900, 56500,
          58200, 59900, 61700, 63600, 65500, 67500, 69500, 71600, 73700, 75900,
          78200, 80500, 82900,
        ],
        11: [
          33400, 34400, 35400, 36500, 37600, 38700, 39900, 41100, 42300, 43600,
          44900, 46200, 47600, 49000, 50500, 52000, 53600, 55200, 56900, 58600,
          60400, 62200, 64100, 66000, 68000, 70000, 72100, 74300, 76500, 78800,
          81200, 83600, 86100,
        ],
        12: [
          35800, 36900, 38000, 39100, 40300, 41500, 42700, 44000, 45300, 46700,
          48100, 49500, 51000, 52500, 54100, 55700, 57400, 59100, 60900, 62700,
          64600, 66500, 68500, 70600, 72700, 74900, 77100, 79400, 81800, 84300,
          86800, 89400, 92100,
        ],
        13: [
          37100, 38200, 39300, 40500, 41700, 43000, 44300, 45600, 47000, 48400,
          49900, 51400, 52900, 54500, 56100, 57800, 59500, 61300, 63100, 65000,
          67000, 69000, 71100, 73200, 75400, 77700, 80000, 82400, 84900, 87400,
          90000, 92700, 95500,
        ],
        14: [
          39900, 41100, 42300, 43600, 44900, 46200, 47600, 49000, 50500, 52000,
          53600, 55200, 56900, 58600, 60400, 62200, 64100, 66000, 68000, 70000,
          72100, 74300, 76500, 78800, 81200, 83600, 86100, 88700, 91400, 94100,
          96900, 99800, 102800,
        ],
        15: [
          42600, 43900, 45200, 46600, 48000, 49400, 50900, 52400, 54000, 55600,
          57300, 59000, 60800, 62600, 64500, 66400, 68400, 70500, 72600, 74800,
          77000, 79300, 81700, 84200, 86700, 89300, 92000, 94800, 97600, 100500,
          103500, 106600, 109800,
        ],
        '15A': [
          52200, 53800, 55400, 57100, 58800, 60600, 62400, 64300, 66200, 68200,
          70200, 72300, 74500, 76700, 79000, 81400, 83800, 86300, 88900, 91600,
          94300, 97100, 100000, 103000, 106100, 109300, 112600, 116000, 119500,
          123100, 126800, 130600, 134500,
        ],
        16: [
          56100, 57800, 59500, 61300, 63100, 65000, 67000, 69000, 71100, 73200,
          75400, 77700, 80000, 82400, 84900, 87400, 90000, 92700, 95500, 98400,
          101400, 104400, 107500, 110700, 114000, 117400, 120900, 124500,
          128200, 132000, 136000, 140100, 144300,
        ],
        17: [
          67300, 69300, 71400, 73500, 75700, 78000, 80300, 82700, 85200, 87800,
          90400, 93100, 95900, 98800, 101800, 104900, 108000, 111200, 114500,
          117900, 121400, 125000, 128800, 132700, 136700, 140800, 145000,
          149400, 153900, 158500, 163300, 168200, 173200,
        ],
        18: [
          68400, 70500, 72600, 74800, 77000, 79300, 81700, 84200, 86700, 89300,
          92000, 94800, 97600, 100500, 103500, 106600, 109800, 113100, 116500,
          120000, 123600, 127300, 131100, 135000, 139100, 143300, 147600,
          152000, 156600, 161300, 166100, 171100, 176200,
        ],
        19: [
          95100, 98000, 100900, 103900, 107000, 110200, 113500, 116900, 120400,
          124000, 127700, 131500, 135400, 139500, 143700, 148000, 152400,
          157000, 161700, 166600, 171600, 176700, 182000, 187600, 193200,
          199000, 204900, 211000, 217300, 223800, 230500, 237400, 244500,
        ],
        20: [
          96100, 99000, 102000, 105100, 108300, 111500, 114800, 118200, 121700,
          125400, 129200, 133100, 137100, 141200, 145400, 149800, 154300,
          158900, 163700, 168600, 173700, 178900, 184300, 189800, 195500,
          201400, 207400, 213600, 220000, 226600, 233400, 240400, 247600,
        ],
        21: [
          123100, 126800, 130600, 134500, 138500, 142700, 147000, 151400,
          155900, 160600, 165400, 170400, 175500, 180800, 186200, 191800,
          197600, 203500, 209600, 215900, 222400, 229100, 236000, 243100,
          250400, 257900, 265600, 273600, 281800, 290300, 299000, 307900,
          317100,
        ],
        22: [
          123600, 127300, 131100, 135000, 139100, 143300, 147600, 152000,
          156600, 161300, 166100, 171100, 176200, 181500, 186900, 192500,
          198300, 204200, 210300, 216600, 223100, 229800, 236700, 243800,
          251100, 258600, 266400, 274400, 282600, 291100, 299800, 308800,
          318100,
        ],
        23: [
          125200, 129000, 132900, 136900, 141000, 145200, 149600, 154100,
          158700, 163500, 168400, 173500, 178700, 184100, 189600, 195300,
          201200, 207200, 213400, 219800, 226400, 233200, 240200, 247400,
          254800, 262400, 270300, 278400, 286800, 295200, 304100, 313200,
          322600,
        ],
        24: [
          128900, 132800, 136800, 140900, 145100, 149500, 154000, 158600,
          163400, 168300, 173300, 178500, 183900, 189400, 195100, 201000,
          207000, 213200, 219600, 226200, 232900, 239900, 247100, 254500,
          262100, 270000, 278100, 286400, 295000, 303900, 313000, 322400,
          332100,
        ],
      };

      /**
       * Updates the Basic Pay options based on the selected Level.
       */
      function updatePayOptions() {
        const levelSelect = document.getElementById('level');
        const paySelect = document.getElementById('pay');
        const selectedLevel = levelSelect.value;

        // Clear existing options
        paySelect.innerHTML = '<option value="">Select Pay</option>';

        // Populate options if a level is selected and exists in pay scales
        if (selectedLevel && levelPayScales[selectedLevel]) {
          levelPayScales[selectedLevel].forEach(payValue => {
            const option = document.createElement('option');
            option.value = payValue;
            option.textContent = payValue;
            paySelect.appendChild(option);
          });
        }
        // Clear DA and HRA fields when level changes
        document.getElementById('da').value = '';
        document.getElementById('hra').value = '';
      }

      /**
       * Calculates DA (18%) and HRA (12%) based on the selected Basic Pay.
       */
      function calculateDAandHRA() {
        const basicPay = parseFloat(document.getElementById('pay').value) || 0;
        const da = basicPay * 0.18; // 18% DA
        const hra = basicPay * 0.12; // 12% HRA

        document.getElementById('da').value = Math.round(da);
        document.getElementById('hra').value = Math.round(hra);
      }

      /**
       * Calculates Professional Tax based on gross salary slabs.
       * @param {number} gross - The gross salary.
       * @returns {number} The calculated professional tax.
       */
      function calculatePTax(gross) {
        if (gross <= 10000) return 0;
        if (gross <= 15000) return 110;
        if (gross <= 25000) return 130;
        if (gross <= 40000) return 150;
        return 200;
      }

      /**
       * Converts a number to words (Indian numbering system is implied by context, but this is a standard converter).
       * @param {number} num - The number to convert.
       * @returns {string} The number in words.
       */
      function numberToWords(num) {
        const a = [
          '',
          'one ',
          'two ',
          'three ',
          'four ',
          'five ',
          'six ',
          'seven ',
          'eight ',
          'nine ',
          'ten ',
          'eleven ',
          'twelve ',
          'thirteen ',
          'fourteen ',
          'fifteen ',
          'sixteen ',
          'seventeen ',
          'eighteen ',
          'nineteen ',
        ];
        const b = [
          '',
          '',
          'twenty',
          'thirty',
          'forty',
          'fifty',
          'sixty',
          'seventy',
          'eighty',
          'ninety',
        ];

        function inWords(n) {
          let str = '';
          if (n < 20) {
            str = a[n];
          } else {
            str = b[Math.floor(n / 10)];
            if (n % 10 !== 0) {
              str += ' ' + a[n % 10];
            }
          }
          return str;
        }

        let n = ('000000000' + num)
          .substr(-9)
          .match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);
        if (!n) return '';
        let str = '';
        str += n[1] != 0 ? (inWords(Number(n[1])) || '') + 'crore ' : '';
        str += n[2] != 0 ? (inWords(Number(n[2])) || '') + 'lakh ' : '';
        str += n[3] != 0 ? (inWords(Number(n[3])) || '') + 'thousand ' : '';
        str += n[4] != 0 ? (inWords(Number(n[4])) || '') + 'hundred ' : '';
        str += n[5] != 0 ? inWords(Number(n[5])) || '' : '';
        return str
          .trim()
          .replace(/\s+/g, ' ')
          .replace('  ', ' ')
          .replace('   ', ' ')
          .replace('    ', ' ')
          .replace('     ', ' ')
          .replace('      ', ' ');
      }

      /**
       * Generates the salary slip preview based on user inputs.
       */
      function generateSlip() {
        // Get input values
        const officeOf = document.getElementById('officeOf').value;
        const circle = document.getElementById('circle').value;
        const district = document.getElementById('district').value;
        const paySlipMonth = document.getElementById('paySlipMonth').value;
        const employeeName = document.getElementById('employeeName').value;
        const employeeId = document.getElementById('employeeId').value;
        const schoolName = document.getElementById('schoolName').value;
        const udiseCode = document.getElementById('udiseCode').value;
        const designation = document.getElementById('designation').value;
        const level = document.getElementById('level').value;
        const pan = document.getElementById('pan').value;
        const basicPay = parseFloat(document.getElementById('pay').value) || 0;
        const da = parseFloat(document.getElementById('da').value) || 0;
        const hra = parseFloat(document.getElementById('hra').value) || 0;
        const ma = parseFloat(document.getElementById('ma').value) || 0;
        const gpf = parseFloat(document.getElementById('gpf').value) || 0;
        const bankName = document.getElementById('bankName').value;
        const accountNo = document.getElementById('accountNo').value;
        const ifscCode = document.getElementById('ifscCode').value;

        // Calculate totals
        const grossPay = basicPay + da + hra + ma;
        const ptax = calculatePTax(grossPay);
        const totalDeductions = gpf + ptax;
        const netPay = grossPay - totalDeductions;
        const netPayWords = numberToWords(Math.floor(netPay));

        // Update preview section with values
        document.getElementById('officeOfPreview').textContent =
          officeOf || 'N/A';
        document.getElementById('circlePreview').textContent = circle || 'N/A';
        document.getElementById('districtPreview').textContent =
          district || 'N/A';
        document.getElementById('paySlipMonthPreview').textContent =
          paySlipMonth || 'N/A';
        document.getElementById('employeeNamePreview').textContent =
          employeeName || 'N/A';
        document.getElementById('employeeIdPreview').textContent =
          employeeId || 'N/A';
        document.getElementById('schoolNamePreview').textContent =
          schoolName || 'N/A';
        document.getElementById('udiseCodePreview').textContent =
          udiseCode || 'N/A';
        document.getElementById('designationPreview').textContent =
          designation || 'N/A';
        document.getElementById('levelPreview').textContent = level || 'N/A';
        document.getElementById('panPreview').textContent = pan || 'N/A';
        document.getElementById('payPreview').textContent = basicPay;
        document.getElementById('daPreview').textContent = da;
        document.getElementById('hraPreview').textContent = hra;
        document.getElementById('maPreview').textContent = ma;
        document.getElementById('gpfPreview').textContent = gpf;
        document.getElementById('ptaxPreview').textContent = ptax;
        document.getElementById('totalEarningsPreview').textContent = grossPay;
        document.getElementById('totalDeductionsPreview').textContent =
          totalDeductions;
        document.getElementById('grossPayPreview').textContent = grossPay;
        document.getElementById('netPayPreview').textContent = netPay;
        document.getElementById('netPayWordsPreview').textContent = netPayWords;
        document.getElementById('bankNamePreview').textContent =
          bankName || 'N/A';
        document.getElementById('accountNoPreview').textContent =
          accountNo || 'N/A';
        document.getElementById('ifscCodePreview').textContent =
          ifscCode || 'N/A';

        // Show the preview section and print button
        document.getElementById('previewSection').style.display = 'block';
        document.getElementById('printButtonContainer').style.display = 'block';
      }

      /**
       * Handles the print action. Calls Android native print or shows a modal.
       */
      function printSlip() {
        if (
          typeof AndroidInterface !== 'undefined' &&
          AndroidInterface.printNow
        ) {
          AndroidInterface.printNow(); // Calls Android native print function
        } else {
          showModal(
            'This feature is only available when running inside a compatible Android application.',
          );
        }
      }

      /**
       * Displays the custom modal with a given message.
       * @param {string} message - The message to display in the modal.
       */
      function showModal(message) {
        document.getElementById('modalMessage').innerText = message;
        document.getElementById('customModal').style.display = 'flex'; // Use flex to center
      }

      /**
       * Hides the custom modal.
       */
      function hideModal() {
        document.getElementById('customModal').style.display = 'none';
      }

      // Initialize the pay options on page load and hide print button
      document.addEventListener('DOMContentLoaded', () => {
        updatePayOptions();
        document.getElementById('printButtonContainer').style.display = 'none';
      });
    </script>
  </body>
</html>
