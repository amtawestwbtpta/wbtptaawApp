<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>West Bengal Holiday List 2025</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for better aesthetics */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="font-inter bg-gray-100 flex justify-center items-start min-h-screen p-5">
<div class="container bg-white p-8 rounded-xl shadow-lg w-full max-w-xl">
    <h1 class="text-center text-3xl font-extrabold text-gray-800 mb-8">West Bengal Holiday List 2025</h1>

    <div class="dropdown-section mb-6">
        <label for="holidayArea" class="block text-gray-700 text-sm font-medium mb-2">Select Holiday List Type:</label>
        <select id="holidayArea" class="w-full p-3 border border-gray-300 rounded-lg text-base bg-gray-50 focus:ring-blue-500 focus:border-blue-500 cursor-pointer transition duration-200 ease-in-out">
            <option value="">-- Select Type --</option>
            <option value="govt">WB Govt Employee Holiday List 2025</option>
            <option value="primary">WB Primary School Holiday List 2025</option>
            <option value="madhyamik">WB Madhyamik School Holiday List 2025</option>
            <option value="hs">WB HS School Holiday List 2025</option>
            <option value="madrasah">WB Madrasah Holiday List 2025</option>
        </select>
    </div>

    <div class="dropdown-section mb-6">
        <label for="monthSelect" class="block text-gray-700 text-sm font-medium mb-2">Select Month:</label>
        <select id="monthSelect" disabled class="w-full p-3 border border-gray-300 rounded-lg text-base bg-gray-50 focus:ring-blue-500 focus:border-blue-500 cursor-pointer transition duration-200 ease-in-out disabled:bg-gray-200 disabled:cursor-not-allowed">
            <option value="all">-- Select Month (or 'Show Full List') --</option>
            <option value="all">Show Full List</option>
            <option value="1">January</option>
            <option value="2">February</option>
            <option value="3">March</option>
            <option value="4">April</option>
            <option value="5">May</option>
            <option value="6">June</option>
            <option value="7">July</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
        </select>
    </div>

    <div class="flex flex-col sm:flex-row gap-4 mt-6">
        <button id="showHolidaysBtn" disabled class="flex-1 py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg text-lg cursor-pointer hover:bg-blue-700 transition duration-200 ease-in-out disabled:bg-gray-400 disabled:cursor-not-allowed">Show Holidays</button>
        <button id="clearSelection" disabled class="flex-1 py-3 px-4 bg-red-600 text-white font-semibold rounded-lg text-lg cursor-pointer hover:bg-red-700 transition duration-200 ease-in-out disabled:bg-gray-400 disabled:cursor-not-allowed">Clear Selection</button>
    </div>

    <div id="holidayDisplay" class="holiday-display mt-8 p-6 border border-gray-200 rounded-lg bg-gray-50">
        <!-- Holidays will be displayed here -->
    </div>

    <div class="note-section mt-8 p-5 bg-yellow-100 border border-yellow-300 rounded-lg text-yellow-800 text-sm">
        <p><strong class="text-yellow-900">Note:</strong> The holiday lists provided here are for the year 2025 and are compiled from various publicly available official sources. While every effort has been made to ensure accuracy, these dates may be subject to revision by the respective authorities. For the most precise and up-to-date information, please always refer to the latest official notifications from the Government of West Bengal, West Bengal Board of Primary Education, West Bengal Board of Secondary Education, or West Bengal Board of Madrasah Education.</p>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const holidayAreaSelect = document.getElementById('holidayArea');
        const monthSelect = document.getElementById('monthSelect');
        const clearSelectionBtn = document.getElementById('clearSelection');
        const showHolidaysBtn = document.getElementById('showHolidaysBtn'); // New button
        const holidayDisplay = document.getElementById('holidayDisplay');

        let currentHolidays = []; // To store the holidays once fetched for a specific area

        // SIMULATED HOLIDAY DATA:
        // This data is embedded directly in the HTML.
        const simulatedHolidayData = {
            govt: {
                name: "WB Govt Employee Holiday List 2025",
                holidays: [
                    { date: "January 12", occasion: "Swami Vivekananda Jayanti" },
                    { date: "January 23", occasion: "Netaji Subhas Chandra Bose Jayanti" },
                    { date: "January 26", occasion: "Republic Day" },
                    { date: "February 3", occasion: "Vasant Panchami" },
                    { date: "March 14", occasion: "Doljatra" },
                    { date: "March 31", occasion: "Id-ul-Fitr (Ramzan Eid)" },
                    { date: "April 14", occasion: "Bengali New Year / Dr Ambedkar Jayanti" },
                    { date: "April 18", occasion: "Good Friday" },
                    { date: "May 1", occasion: "May Day (Labour Day)" },
                    { date: "May 8", occasion: "Rabindra Jayanti" },
                    { date: "May 12", occasion: "Buddha Purnima" },
                    { date: "June 7", occasion: "Eid al-Adha (Bakrid) (Tentative)" },
                    { date: "July 6", occasion: "Muharram (Tentative)" },
                    { date: "August 15", occasion: "Independence Day" },
                    { date: "September 21", occasion: "Mahalaya" },
                    { date: "September 29", occasion: "Maha Saptami" },
                    { date: "September 30", occasion: "Maha Ashtami" },
                    { date: "October 1", occasion: "Maha Navami" },
                    { date: "October 2", occasion: "Vijaya Dashami / Gandhi Jayanti" },
                    { date: "October 6", occasion: "Lakshmi Puja" },
                    { date: "October 21", occasion: "Diwali (Deepavali) (Tentative)" },
                    { date: "November 5", occasion: "Guru Nanak Jayanti" },
                    { date: "December 25", occasion: "Christmas Day" },
                ]
            },
            primary: {
                name: "WB Primary School Holiday List 2025",
                holidays: [
                    { date: "January 1", occasion: "New Year's Day" },
                    { date: "January 14", occasion: "Makar Sankranti (Pous Parban)" },
                    { date: "January 23", occasion: "Netaji Janmajayanti (To be celebrated in School)" },
                    { date: "February 2", occasion: "Saraswati Puja (Shree Panchami)" },
                    { date: "February 3", occasion: "Saraswati Puja (Day after)" },
                    { date: "February 14", occasion: "Thakur Panchanan Barma Janmajayanti" },
                    { date: "February 26", occasion: "Shivaratri" },
                    { date: "March 14", occasion: "Doljatra" },
                    { date: "March 15", occasion: "Doljatra (Day after)" },
                    { date: "March 27", occasion: "Shri Harichand Thakur Janmajayanti" },
                    { date: "March 31", occasion: "Eid-ul-Fitr" },
                    { date: "April 1", occasion: "Eid-ul-Fitr (Day after)" },
                    { date: "April 10", occasion: "Mahavir Jayanti" },
                    { date: "April 14", occasion: "Chaitra Sankranti and Dr. B. R. Ambedkar Janmajayanti" },
                    { date: "April 15", occasion: "Poila Baisakh (Bangla Nababarsha 1432)" },
                    { date: "April 18", occasion: "Good Friday" },
                    { date: "May 1", occasion: "May Day" },
                    { date: "May 2 to May 12", occasion: "Summer Vacation" },
                    { date: "June 6", occasion: "Eid-ul-Joha (Bakr Eid)" },
                    { date: "June 7", occasion: "Eid-ul-Joha (Bakr Eid) (Day after)" },
                    { date: "June 27", occasion: "Ratha Yatra" },
                    { date: "August 9", occasion: "Rakhi Purnima" },
                    { date: "August 15", occasion: "Independence Day / Janmastami" },
                    { date: "September 5", occasion: "Fateha-Dwaz-Daham" },
                    { date: "September 17", occasion: "Biswakarma Puja" },
                    { date: "September 26 to October 24", occasion: "Puja Vacation (Durga Puja to Bhatridwitiya)" },
                    { date: "October 27", occasion: "Chhat Puja" },
                    { date: "October 28", occasion: "Chhat Puja (Day after)" },
                    { date: "October 31", occasion: "Jagadhatri Puja" },
                    { date: "November 5", occasion: "Guru Nanak Janmajayanti and Parshwanath's Rathajatra" },
                    { date: "November 15", occasion: "Birsa Munda Janmajayanti" },
                    { date: "December 25", occasion: "Christmas Day" },
                ]
            },
            madhyamik: {
                name: "WB Madhyamik School Holiday List 2025",
                holidays: [
                    { date: "January 1", occasion: "New Year Day" },
                    { date: "January 23", occasion: "Netaji's Birthday" },
                    { date: "January 26", occasion: "Republic Day" },
                    { date: "February 2", occasion: "Saraswati Puja" },
                    { date: "February 3", occasion: "Day after Saraswati Puja" },
                    { date: "February 14", occasion: "Birthday of Thakur Panchanan Barma & Shab-e-Barat" },
                    { date: "February 26", occasion: "Shivaratri" },
                    { date: "March 14", occasion: "Dol Yatra" },
                    { date: "March 15", occasion: "Day after Dol Yatra" },
                    { date: "March 27", occasion: "Birthday of Shri Shri Harichand Thakur" },
                    { date: "March 31", occasion: "Eid-Ul-Fitr" },
                    { date: "April 1", occasion: "Day after Eid-Ul-Fitr" },
                    { date: "April 10", occasion: "Mahavir Jayanti" },
                    { date: "April 14", occasion: "Birthday of Dr. B. R. Ambedkar" },
                    { date: "April 15", occasion: "Bengali New Year's Day (Nababarsha)" },
                    { date: "April 18", occasion: "Good Friday" },
                    { date: "May 1", occasion: "May Day" },
                    { date: "May 9", occasion: "Birthday of Rabindranath Tagore" },
                    { date: "May 12", occasion: "Buddha Purnima" },
                    { date: "May 19 to June 4", occasion: "Summer Vacation" },
                    { date: "June 6", occasion: "Day before Id-Ud-Zoha (Bakrid)" },
                    { date: "June 7", occasion: "Id-Ud-Zoha (Bakrid)" },
                    { date: "June 27", occasion: "Rathayatra" },
                    { date: "July 6", occasion: "Muharram" },
                    { date: "August 15", occasion: "Independence Day & Janmastami" },
                    { date: "September 5", occasion: "Fateha-Dwaz-Daham" },
                    { date: "September 26 to October 7", occasion: "Durga Puja, Addl. day for Durga Puja, Lakshmi Puja for Lakshmi" },
                    { date: "October 20 to October 24", occasion: "Kali Puja, Additional Day for Kali Puja" },
                    { date: "October 27", occasion: "Chhat Puja" },
                    { date: "October 28", occasion: "Chhat Puja (Day after)" },
                    { date: "November 5", occasion: "Birthday of Guru Nanak" },
                    { date: "November 15", occasion: "Birthday of Birsa Munda" },
                    { date: "December 25 to December 31", occasion: "Christmas Vacation" },
                ]
            },
            hs: {
                name: "WB HS School Holiday List 2025",
                holidays: [
                    { date: "January 1", occasion: "New Year Day" },
                    { date: "January 23", occasion: "Netaji's Birthday" },
                    { date: "January 26", occasion: "Republic Day" },
                    { date: "February 2", occasion: "Saraswati Puja" },
                    { date: "February 3", occasion: "Day after Saraswati Puja" },
                    { date: "February 14", occasion: "Birthday of Thakur Panchanan Barma & Shab-e-Barat" },
                    { date: "February 26", occasion: "Shivaratri" },
                    { date: "March 14", occasion: "Dol Yatra" },
                    { date: "March 15", occasion: "Day after Dol Yatra" },
                    { date: "March 27", occasion: "Birthday of Shri Shri Harichand Thakur" },
                    { date: "March 31", occasion: "Eid-Ul-Fitr" },
                    { date: "April 1", occasion: "Day after Eid-Ul-Fitr" },
                    { date: "April 10", occasion: "Mahavir Jayanti" },
                    { date: "April 14", occasion: "Birthday of Dr. B. R. Ambedkar" },
                    { date: "April 15", occasion: "Bengali New Year's Day (Nababarsha)" },
                    { date: "April 18", occasion: "Good Friday" },
                    { date: "May 1", occasion: "May Day" },
                    { date: "May 9", occasion: "Birthday of Rabindranath Tagore" },
                    { date: "May 12", occasion: "Buddha Purnima" },
                    { date: "May 19 to June 4", occasion: "Summer Vacation" },
                    { date: "June 6", occasion: "Day before Id-Ud-Zoha (Bakrid)" },
                    { date: "June 7", occasion: "Id-Ud-Zoha (Bakrid)" },
                    { date: "June 27", occasion: "Rathayatra" },
                    { date: "July 6", occasion: "Muharram" },
                    { date: "August 15", occasion: "Independence Day & Janmastami" },
                    { date: "September 5", occasion: "Fateha-Dwaz-Daham" },
                    { date: "September 26 to October 7", occasion: "Durga Puja, Addl. day for Durga Puja, Lakshmi Puja for Lakshmi" },
                    { date: "October 20 to October 24", occasion: "Kali Puja, Additional Day for Kali Puja" },
                    { date: "October 27", occasion: "Chhat Puja" },
                    { date: "October 28", occasion: "Chhat Puja (Day after)" },
                    { date: "November 5", occasion: "Birthday of Guru Nanak" },
                    { date: "November 15", occasion: "Birthday of Birsa Munda" },
                    { date: "December 25 to December 31", occasion: "Christmas Vacation" },
                ]
            },
            madrasah: {
                name: "WB Madrasah Holiday List 2025",
                holidays: [
                    { date: "January 1", occasion: "English New Year's Day" },
                    { date: "January 23", occasion: "Birthday of Netaji" },
                    { date: "January 28", occasion: "Shab-E-Mi'raj" },
                    { date: "February 2 to Feb 3", occasion: "Saraswati Puja (Sree Panchami)" },
                    { date: "February 14", occasion: "Shab-E-Barat, Birthday of Thakur Panchanan Barma" },
                    { date: "February 26", occasion: "Shivaratri" },
                    { date: "March 14 to Mar 15", occasion: "Doljatra (Holi)" },
                    { date: "March 21 to April 2", occasion: "Ramzan, Laylat ul Qadr, Jum'a-Tul-Vida, Eid-ul-Fitr & Birthday of Shri Shri Harichand Thakur" },
                    { date: "April 10", occasion: "Mahavir Jayanti" },
                    { date: "April 14", occasion: "Birthday of Dr. B.R. Ambedkar" },
                    { date: "April 15", occasion: "Bengali New Year's Day (Nababarsha)" },
                    { date: "April 18", occasion: "Good Friday" },
                    { date: "May 1", occasion: "May Day" },
                    { date: "May 9", occasion: "Birthday of Rabindranath Tagore" },
                    { date: "May 12", occasion: "Buddha Purnima, Birthday of Pandit Raghunath Murmu" },
                    { date: "May 28 to June 9", occasion: "Summer Vacation, Eid-ul-Azha" },
                    { date: "June 27", occasion: "Hijri New Year & Rathayatra" },
                    { date: "July 6", occasion: "Muharram" },
                    { date: "August 9", occasion: "Rakhi Bandhan" },
                    { date: "August 15", occasion: "Independence Day" },
                    { date: "August 20", occasion: "Akheri Chahar Shumba" },
                    { date: "September 5", occasion: "Fateha-Dwaz-Daham" },
                    { date: "September 26 to October 7", occasion: "Durga Puja, Vijaya Dashami, Laxmi Puja, Birthday of Mahatma Gandhi, Fateha-Yaz-Daham" },
                    { date: "October 20 to October 28", occasion: "Kali Puja, Bhatridwitya, Chhat Puja" },
                    { date: "November 5", occasion: "Guru Nanak Janmajayanti and Parshwanath's Rathajatra" },
                    { date: "November 15", occasion: "Birsa Munda Janmajayanti" },
                    { date: "December 25", occasion: "Christmas Day" },
                ]
            }
        };
        // END OF SIMULATED DATA SECTION

        // Function to get the day of the week from a date string
        function getDayOfWeek(dateString) {
            const year = 2025; // All holidays are for the year 2025
            let singleDatePart = dateString.split(' to ')[0].trim(); // Get the first date if it's a range

            try {
                // Attempt to create a Date object. Add year for accurate parsing.
                const date = new Date(`${singleDatePart}, ${year}`);
                if (isNaN(date.getTime())) {
                    // Fallback for tricky date formats or abbreviations.
                    // Example: "Feb 2 to Feb 3" -> "Feb 2"
                    const parts = singleDatePart.match(/([A-Za-z]+)\s*(\d+)/); // Matches "Month Day" or "MonthDay"
                    if (parts && parts.length >= 3) {
                        const monthName = parts[1];
                        const day = parts[2];
                        const reformattedDate = new Date(`${monthName} ${day}, ${year}`);
                        if (!isNaN(reformattedDate.getTime())) {
                            return reformattedDate.toLocaleDateString('en-US', { weekday: 'long' });
                        }
                    }
                    return ''; // Cannot parse
                }
                return date.toLocaleDateString('en-US', { weekday: 'long' });
            } catch (e) {
                console.warn("Could not parse date string for day of week:", dateString, e);
                return ''; // Return empty string if parsing fails
            }
        }

        // Function to enable/disable controls based on state
        function updateControlStates() {
            const selectedArea = holidayAreaSelect.value;
            monthSelect.disabled = !selectedArea;
            clearSelectionBtn.disabled = !selectedArea && currentHolidays.length === 0;
            // Enable "Show Holidays" button only if a holiday area is selected
            showHolidaysBtn.disabled = !selectedArea;
            if (!selectedArea) {
                monthSelect.value = "all"; // Reset month dropdown when area is cleared
            }
        }

        // Event listener for the "Holiday List Type" dropdown
        holidayAreaSelect.addEventListener('change', async () => {
            const selectedArea = holidayAreaSelect.value;
            if (selectedArea) {
                holidayDisplay.innerHTML = '<p class="no-holidays text-gray-500 text-center italic py-4">Select a month and click "Show Holidays" to view the list.</p>'; // Prompt user to click show button

                try {
                    // Using embedded 'simulatedHolidayData'
                    currentHolidays = simulatedHolidayData[selectedArea].holidays;
                    monthSelect.value = "all"; // Default to "Show Full List" when a new area is selected
                } catch (error) {
                    console.error("Error fetching holiday data:", error);
                    holidayDisplay.innerHTML = '<p class="no-holidays text-gray-500 text-center italic py-4">Failed to load holidays. Please try again later.</p>';
                    currentHolidays = []; // Clear current holidays on error
                }
            } else {
                currentHolidays = []; // Clear holidays when no area is selected
                holidayDisplay.innerHTML = "";
            }
            updateControlStates();
        });

        // Event listener for the "Month" dropdown - now just updates controls, doesn't display
        monthSelect.addEventListener('change', () => {
            holidayDisplay.innerHTML = '<p class="no-holidays text-gray-500 text-center italic py-4">Click "Show Holidays" to update the list.</p>';
            updateControlStates();
        });

        // Event listener for the NEW "Show Holidays" button
        showHolidaysBtn.addEventListener('click', displayHolidays);

        // Event listener for the "Clear Selection" button
        clearSelectionBtn.addEventListener('click', () => {
            holidayAreaSelect.value = ""; // Reset area dropdown
            monthSelect.value = "all"; // Reset month dropdown
            currentHolidays = []; // Clear stored holidays
            holidayDisplay.innerHTML = ""; // Clear displayed holidays
            updateControlStates(); // Update button and month dropdown state
        });


        function displayHolidays() {
            const selectedArea = holidayAreaSelect.value;
            const selectedMonth = monthSelect.value; // Will be "all" or "1" to "12"
            holidayDisplay.innerHTML = ''; // Clear previous holidays

            if (!selectedArea) {
                holidayDisplay.innerHTML = '<p class="no-holidays text-gray-500 text-center italic py-4">Please select a holiday list type to view holidays.</p>';
                return;
            }

            // Check if the selected area exists in the simulated data
            if (!simulatedHolidayData[selectedArea]) {
                 holidayDisplay.innerHTML = '<p class="no-holidays text-gray-500 text-center italic py-4">Invalid holiday list type selected. Please choose from the available options.</p>';
                 return;
            }

            const areaName = simulatedHolidayData[selectedArea]?.name;

            if (currentHolidays.length === 0) {
                holidayDisplay.innerHTML = `<p class="no-holidays text-gray-500 text-center italic py-4">No holiday data available for ${areaName}.</p>`;
                return;
            }

            let filteredHolidays = currentHolidays;

            if (selectedMonth !== "all") { // Only filter if a specific month is chosen
                const monthNames = [
                    "", "January", "February", "March", "April", "May", "June",
                    "July", "August", "September", "October", "November", "December"
                ];
                const targetMonthName = monthNames[parseInt(selectedMonth)];

                filteredHolidays = currentHolidays.filter(holiday => {
                    // Check if the month name is explicitly in the date string (case-insensitive)
                    if (holiday.date.toLowerCase().includes(targetMonthName.toLowerCase())) {
                        return true;
                    }
                    // Attempt to parse the first date part for more robust month matching
                    try {
                        const year = new Date().getFullYear(); // Assume current year (2025)
                        const dateString = holiday.date.split(' to ')[0].trim(); // Take only the start date for parsing if it's a range
                        const parsedDate = new Date(`${dateString}, ${year}`);
                        return parsedDate.getMonth() + 1 === parseInt(selectedMonth);
                    } catch (e) {
                        // This catch block handles cases where the date string is not easily parseable into a Date object
                        // e.g., "September 26 to October 24" - here, the string includes multiple months,
                        // so the initial `includes` check is more reliable.
                        return false;
                    }
                });
            }

            if (filteredHolidays.length > 0) {
                const title = selectedMonth === "all"
                    ? `${areaName} (Full List)`
                    : `${areaName} - ${monthSelect.options[monthSelect.selectedIndex].text}`;
                const h2 = document.createElement('h2');
                h2.textContent = title;
                h2.classList.add('text-blue-600', 'text-2xl', 'font-bold', 'mb-5');
                holidayDisplay.appendChild(h2);

                filteredHolidays.forEach(holiday => {
                    const dayOfWeek = getDayOfWeek(holiday.date);
                    const holidayItem = document.createElement('div');
                    holidayItem.classList.add('p-3', 'border-b', 'border-dashed', 'border-gray-200', 'last:border-b-0', 'rounded-md');
                    holidayItem.innerHTML = `
                        <p class="text-gray-800 font-semibold">
                            ${dayOfWeek ? `<span class="text-blue-700">${dayOfWeek}</span>, ` : ''}
                            ${holiday.date}:
                        </p>
                        <p class="text-gray-600">${holiday.occasion}</p>
                    `;
                    holidayDisplay.appendChild(holidayItem);
                });
            } else {
                const monthText = selectedMonth !== "all" ? ` for ${monthSelect.options[monthSelect.selectedIndex].text}` : '';
                holidayDisplay.innerHTML = `<p class="no-holidays text-gray-500 text-center italic py-4">No holidays found for ${areaName}${monthText}.</p>`;
            }
            updateControlStates(); // Update state after displaying holidays
        }

        // Initial state setup when the page loads
        updateControlStates();
    });
</script>
</body>
</html>
