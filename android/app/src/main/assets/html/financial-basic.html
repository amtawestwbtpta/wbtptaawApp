<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Calculator Suite</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Hide all calculator sections by default */
        .calculator-section {
            display: none;
        }
        /* Show the active calculator section */
        .calculator-section.active {
            display: block;
        }
        /* Custom styling for radio button labels */
        input[type="radio"]:checked + span {
            color: #1E40AF; /* Darker blue for checked text */
            font-weight: 600; /* Semi-bold */
        }
        /* Custom styles for input fields to ensure better touch targets */
        .app-input {
            padding: 12px 16px; /* Increased padding */
            border-radius: 12px; /* More rounded corners */
            font-size: 1rem; /* Slightly larger font */
        }
        /* Custom styles for buttons */
        .app-button {
            padding: 14px 20px; /* Larger touch target */
            border-radius: 12px; /* More rounded corners */
            font-size: 1.05rem; /* Slightly larger font */
            font-weight: 600; /* Semi-bold */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }
        .app-button:hover {
            transform: translateY(-2px); /* Lift effect on hover/tap */
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .app-result-box {
            padding: 16px; /* More padding for results */
            border-radius: 12px; /* Consistent rounded corners */
            font-size: 1.1rem; /* Larger font for results */
        }
        .app-result-label {
            font-size: 0.95rem; /* Slightly larger label for results */
        }
        .app-result-value {
            font-size: 1.4rem; /* Prominent result value */
        }
        /* Result display section */
        #result-display-section {
            display: none; /* Hidden by default */
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e2e8f0; /* Light gray border */
        }
        #result-display-section.active {
            display: block; /* Show when active */
        }
        .result-container {
            background-color: #e0f2fe; /* Light blue background */
            border: 1px solid #90cdf4; /* Blue border */
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .result-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 12px;
        }
        .result-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #2b6cb0;
            margin-bottom: 16px;
        }
        .result-details {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 16px;
        }
        .detail-item {
            background-color: #ffffff;
            border: 1px solid #bee3f8;
            border-radius: 8px;
            padding: 12px 18px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            min-width: 150px;
            text-align: left;
        }
        .detail-label {
            font-size: 0.9rem;
            color: #4a5568;
            font-weight: 500;
            margin-bottom: 4px;
        }
        .detail-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #2c5282;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 sm:p-8 flex items-center justify-center">

<div class="bg-white rounded-2xl shadow-2xl p-6 sm:p-10 w-full max-w-lg border border-blue-200">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8">
        Financial Calculator Suite
    </h1>

    <div class="flex flex-wrap justify-center gap-3 sm:gap-4 mb-8" id="top-calculator-selection">
        <!-- Radio Buttons for Calculator Selection (Top) -->
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="emi" checked class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">EMI</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="sip" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">SIP</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="step-up-sip" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">Step-up SIP</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="fd" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">FD</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="rd" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">RD</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="ssy" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">SSY</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="ppf" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">PPF</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="loan-eligibility" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">Loan Eligibility</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="gratuity" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">Gratuity</span>
        </label>
        <label class="flex items-center cursor-pointer p-3 rounded-full bg-blue-100 hover:bg-blue-200 transition duration-200 ease-in-out shadow-md flex-grow sm:flex-grow-0">
            <input type="radio" name="calculatorType" value="pli" class="form-radio h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500">
            <span class="ml-2 text-gray-800 font-medium text-sm sm:text-base">PLI</span>
        </label>
    </div>

    <div class="mt-8 flex justify-center">
        <!-- EMI Calculator Section -->
        <div id="emi-calculator" class="calculator-section active p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">EMI Calculator</h2>
            <div class="mb-4">
                <label for="emiPrincipal" class="block text-gray-700 text-base font-semibold mb-2">Principal Amount (₹)</label>
                <input type="number" id="emiPrincipal" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter principal amount" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="emiInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="emiInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual interest rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="emiTenure" class="block text-gray-700 text-base font-semibold mb-2">Loan Tenure (Years)</label>
                <input type="number" id="emiTenure" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter loan tenure in years" min="0" step="0.01">
            </div>
            <button id="calculateEmiBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate EMI</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- SIP Calculator Section -->
        <div id="sip-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">SIP Calculator</h2>
            <div class="mb-4">
                <label for="sipMonthlyInvestment" class="block text-gray-700 text-base font-semibold mb-2">Monthly Investment (₹)</label>
                <input type="number" id="sipMonthlyInvestment" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter monthly investment" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="sipAnnualReturnRate" class="block text-gray-700 text-base font-semibold mb-2">Expected Annual Return Rate (%)</label>
                <input type="number" id="sipAnnualReturnRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter expected annual return rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="sipInvestmentPeriod" class="block text-gray-700 text-base font-semibold mb-2">Investment Period (Years)</label>
                <input type="number" id="sipInvestmentPeriod" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter investment period in years" min="0" step="0.01">
            </div>
            <button id="calculateSipBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate SIP</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- Step-up SIP Calculator Section -->
        <div id="step-up-sip-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Step-up SIP Calculator</h2>
            <div class="mb-4">
                <label for="stepUpSipMonthlyInvestment" class="block text-gray-700 text-base font-semibold mb-2">Initial Monthly Investment (₹)</label>
                <input type="number" id="stepUpSipMonthlyInvestment" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter initial monthly investment" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="stepUpSipAnnualReturnRate" class="block text-gray-700 text-base font-semibold mb-2">Expected Annual Return Rate (%)</label>
                <input type="number" id="stepUpSipAnnualReturnRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter expected annual return rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="stepUpSipInvestmentPeriod" class="block text-gray-700 text-base font-semibold mb-2">Investment Period (Years)</label>
                <input type="number" id="stepUpSipInvestmentPeriod" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter investment period in years" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="stepUpSipPercentage" class="block text-gray-700 text-base font-semibold mb-2">Annual Step-up Percentage (%)</label>
                <input type="number" id="stepUpSipPercentage" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="e.g., 5 for 5%" min="0" step="0.01">
            </div>
            <button id="calculateStepUpSipBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate Step-up SIP</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- FD Calculator Section -->
        <div id="fd-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">FD Calculator</h2>
            <div class="mb-4">
                <label for="fdPrincipal" class="block text-gray-700 text-base font-semibold mb-2">Principal Amount (₹)</label>
                <input type="number" id="fdPrincipal" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter principal amount" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="fdInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="fdInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual interest rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="fdTenure" class="block text-gray-700 text-base font-semibold mb-2">Tenure (Years)</label>
                <input type="number" id="fdTenure" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter tenure in years" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="fdCompoundingFrequency" class="block text-gray-700 text-base font-semibold mb-2">Compounding Frequency</label>
                <select id="fdCompoundingFrequency" class="app-input shadow border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out">
                    <option value="1">Annually</option>
                    <option value="2">Semi-Annually</option>
                    <option value="4">Quarterly</option>
                    <option value="12">Monthly</option>
                </select>
            </div>
            <button id="calculateFdBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate FD</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- RD Calculator Section -->
        <div id="rd-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">RD Calculator</h2>
            <div class="mb-4">
                <label for="rdMonthlyDeposit" class="block text-gray-700 text-base font-semibold mb-2">Monthly Deposit (₹)</label>
                <input type="number" id="rdMonthlyDeposit" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter monthly deposit" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="rdAnnualInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="rdAnnualInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual interest rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="rdTenure" class="block text-gray-700 text-base font-semibold mb-2">Tenure (Years)</label>
                <input type="number" id="rdTenure" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter tenure in years" min="0" step="0.01">
            </div>
            <button id="calculateRdBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate RD</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- SSY Calculator Section -->
        <div id="ssy-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Sukanya Samriddhi Yojana (SSY) Calculator</h2>
            <div class="mb-4">
                <label for="ssyAnnualInvestment" class="block text-gray-700 text-base font-semibold mb-2">Annual Investment (₹)</label>
                <input type="number" id="ssyAnnualInvestment" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual investment (max 1.5 Lakh)" min="250" max="150000" step="any">
            </div>
            <div class="mb-4">
                <label for="ssyCurrentAge" class="block text-gray-700 text-base font-semibold mb-2">Girl Child's Current Age (Years)</label>
                <input type="number" id="ssyCurrentAge" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter age (0-10 years)" min="0" max="10" step="1">
            </div>
            <div class="mb-4">
                <label for="ssyInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="ssyInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Current rate (e.g., 8.2)" min="0" step="0.01">
            </div>
            <button id="calculateSsyBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate SSY</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- PPF Calculator Section -->
        <div id="ppf-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Public Provident Fund (PPF) Calculator</h2>
            <div class="mb-4">
                <label for="ppfAnnualInvestment" class="block text-gray-700 text-base font-semibold mb-2">Annual Investment (₹)</label>
                <input type="number" id="ppfAnnualInvestment" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual investment (min 500, max 1.5 Lakh)" min="500" max="150000" step="any">
            </div>
            <div class="mb-4">
                <label for="ppfInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="ppfInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Current rate (e.g., 7.1)" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="ppfTenure" class="block text-gray-700 text-base font-semibold mb-2">Investment Period (Years)</label>
                <input type="number" id="ppfTenure" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter tenure (min 15 years)" min="1" step="1">
            </div>
            <button id="calculatePpfBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate PPF</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- Loan Eligibility Calculator Section -->
        <div id="loan-eligibility-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Loan Eligibility Calculator</h2>
            <div class="mb-4">
                <label for="leMonthlyIncome" class="block text-gray-700 text-base font-semibold mb-2">Monthly Income (₹)</label>
                <input type="number" id="leMonthlyIncome" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter monthly income" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="leMonthlyExpenses" class="block text-gray-700 text-base font-semibold mb-2">Existing Monthly Loan EMIs (₹)</label>
                <input type="number" id="leMonthlyExpenses" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter existing EMIs" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="leInterestRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Interest Rate (%)</label>
                <input type="number" id="leInterestRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter annual interest rate" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label for="leTenure" class="block text-gray-700 text-base font-semibold mb-2">Loan Tenure (Years)</label>
                <input type="number" id="leTenure" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter loan tenure in years" min="0" step="0.01">
            </div>
            <button id="calculateLoanEligibilityBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate Eligibility</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- Gratuity Calculator Section -->
        <div id="gratuity-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Gratuity Calculator</h2>
            <div class="mb-4">
                <label for="grLastDrawnSalary" class="block text-gray-700 text-base font-semibold mb-2">Last Drawn Basic Salary + DA (₹)</label>
                <input type="number" id="grLastDrawnSalary" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter last drawn salary + DA" min="0" step="any">
            </div>
            <div class="mb-4">
                <label for="grYearsOfService" class="block text-gray-700 text-base font-semibold mb-2">Years of Service</label>
                <input type="number" id="grYearsOfService" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter completed years of service" min="0" step="0.01">
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-base font-semibold mb-2">Covered under Gratuity Act?</label>
                <div class="flex items-center">
                    <input type="radio" id="grCoveredYes" name="grCovered" value="yes" checked class="form-radio h-5 w-5 text-blue-600">
                    <label for="grCoveredYes" class="ml-2 text-gray-700 text-base">Yes</label>
                    <input type="radio" id="grCoveredNo" name="grCovered" value="no" class="form-radio h-5 w-5 text-blue-600 ml-4">
                    <label for="grCoveredNo" class="ml-2 text-gray-700 text-base">No</label>
                </div>
            </div>
            <button id="calculateGratuityBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate Gratuity</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>

        <!-- PLI Calculator Section (New) -->
        <div id="pli-calculator" class="calculator-section p-6 bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-md">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Postal Life Insurance (PLI) Calculator</h2>
            <div class="mb-4">
                <label for="pliSumAssured" class="block text-gray-700 text-base font-semibold mb-2">Sum Assured (₹)</label>
                <input type="number" id="pliSumAssured" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter sum assured" min="20000" step="any">
            </div>
            <div class="mb-4">
                <label for="pliEntryAge" class="block text-gray-700 text-base font-semibold mb-2">Entry Age (Years)</label>
                <input type="number" id="pliEntryAge" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter age at entry" min="19" max="55" step="1">
            </div>
            <div class="mb-4">
                <label for="pliMaturityAge" class="block text-gray-700 text-base font-semibold mb-2">Maturity Age (Years)</label>
                <input type="number" id="pliMaturityAge" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="Enter maturity age (e.g., 60)" min="35" max="60" step="1">
            </div>
            <div class="mb-4">
                <label for="pliBonusRate" class="block text-gray-700 text-base font-semibold mb-2">Annual Bonus Rate (₹ per 1000 Sum Assured)</label>
                <input type="number" id="pliBonusRate" class="app-input shadow appearance-none border rounded-lg w-full text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out" placeholder="e.g., 52 for Endowment Assurance" min="0" step="0.01">
            </div>
            <button id="calculatePliBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white app-button mt-4">Calculate PLI</button>
            <div class="mt-8 space-y-4 result-placeholder">
                <!-- Results will be displayed dynamically here -->
            </div>
        </div>
    </div>

    <!-- Dynamic Result Display Section -->
    <div id="result-display-section">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Calculation Result</h2>
        <div id="dynamic-result-container" class="result-container">
            <!-- Result will be injected here -->
        </div>
        <h3 class="text-xl font-semibold text-gray-700 text-center mb-4">Choose another tool:</h3>
        <div id="calculator-selection-after-result" class="flex flex-wrap justify-center gap-3 sm:gap-4">
            <!-- Radio buttons will be cloned and injected here -->
        </div>
    </div>


    <!-- Disclaimer Note -->
    <div class="mt-10 p-4 bg-gray-100 rounded-lg text-center text-gray-600 text-xs shadow-inner border border-gray-200">
        <p class="font-semibold mb-1">Disclaimer:</p>
        <p>This calculator is for informational purposes only and should not be considered financial advice. The calculations are based on standard formulas and may not account for all specific terms, conditions, or tax implications of actual financial products. Please consult with a qualified financial advisor for personalized advice.</p>
    </div>
</div>

<script>
    // Helper function to format currency
    function formatCurrency(value) {
        return `₹ ${value.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    }

    // --- Calculator Switching Logic ---
    const calculatorRadios = document.querySelectorAll('input[name="calculatorType"]');
    const calculatorSections = document.querySelectorAll('.calculator-section');
    const resultDisplaySection = document.getElementById('result-display-section');
    const dynamicResultContainer = document.getElementById('dynamic-result-container');
    const calculatorSelectionAfterResult = document.getElementById('calculator-selection-after-result');
    const topCalculatorSelection = document.getElementById('top-calculator-selection');


    function showCalculator(calculatorId) {
        calculatorSections.forEach(section => {
            section.classList.remove('active');
        });
        document.getElementById(`${calculatorId}`).classList.add('active');
        // Hide the result display section when switching calculators
        resultDisplaySection.classList.remove('active');
        // Reset results to 0.00 when switching, user will click calculate
        resetCalculatorResults();
    }

    function resetCalculatorResults() {
        // Clear dynamic result container
        dynamicResultContainer.innerHTML = '';
        // Clear the radio buttons in the "Choose another tool" section
        calculatorSelectionAfterResult.innerHTML = '';
    }

    calculatorRadios.forEach(radio => {
        radio.addEventListener('change', (event) => {
            showCalculator(`${event.target.value}-calculator`);
        });
    });

    // Function to display results elegantly
    function displayResult(title, mainValue, details = []) {
        dynamicResultContainer.innerHTML = `
            <div class="result-title">${title}</div>
            <div class="result-value">${mainValue}</div>
            <div class="result-details">
                ${details.map(detail => `
                    <div class="detail-item">
                        <div class="detail-label">${detail.label}</div>
                        <div class="detail-value">${detail.value}</div>
                    </div>
                `).join('')}
            </div>
        `;
        resultDisplaySection.classList.add('active');
        // Scroll to the result section
        resultDisplaySection.scrollIntoView({ behavior: 'smooth', block: 'start' });

        // Clone and display all calculator radio buttons below the result
        calculatorSelectionAfterResult.innerHTML = ''; // Clear previous clones
        topCalculatorSelection.querySelectorAll('label').forEach(label => {
            const clonedLabel = label.cloneNode(true);
            const originalRadio = label.querySelector('input[type="radio"]');
            const clonedRadio = clonedLabel.querySelector('input[type="radio"]');

            // Ensure the cloned radio button has the same checked state as the original
            clonedRadio.checked = originalRadio.checked;

            // Add event listener to the cloned radio button
            clonedRadio.addEventListener('change', (event) => {
                // When a cloned radio is clicked, update the original radio and show the calculator
                document.querySelector(`input[name="calculatorType"][value="${event.target.value}"]`).checked = true;
                showCalculator(`${event.target.value}-calculator`);
            });
            calculatorSelectionAfterResult.appendChild(clonedLabel);
        });
    }


    // Initialize with EMI calculator active
    document.addEventListener('DOMContentLoaded', () => {
        showCalculator('emi-calculator');
    });

    // --- EMI Calculator Logic ---
    const emiPrincipalInput = document.getElementById('emiPrincipal');
    const emiInterestRateInput = document.getElementById('emiInterestRate');
    const emiTenureInput = document.getElementById('emiTenure');
    const calculateEmiBtn = document.getElementById('calculateEmiBtn');

    function calculateEMI() {
        const P = parseFloat(emiPrincipalInput.value);
        const R = parseFloat(emiInterestRateInput.value);
        const N = parseFloat(emiTenureInput.value);

        if (P > 0 && R >= 0 && N > 0) {
            const monthlyInterestRate = R / (12 * 100);
            const numberOfMonths = N * 12;

            let emi, totalPayment, totalInterest;

            if (monthlyInterestRate === 0) {
                emi = P / numberOfMonths;
                totalPayment = P;
                totalInterest = 0;
            } else {
                emi = P * monthlyInterestRate * (Math.pow(1 + monthlyInterestRate, numberOfMonths) / (Math.pow(1 + monthlyInterestRate, numberOfMonths) - 1));
                totalPayment = emi * numberOfMonths;
                totalInterest = totalPayment - P;
            }

            displayResult('EMI Calculation Result', formatCurrency(emi), [
                { label: 'Monthly EMI', value: formatCurrency(emi) },
                { label: 'Total Interest Payable', value: formatCurrency(totalInterest) },
                { label: 'Total Payment', value: formatCurrency(totalPayment) }
            ]);
        } else {
            displayResult('EMI Calculation Result', formatCurrency(0), [
                { label: 'Monthly EMI', value: formatCurrency(0) },
                { label: 'Total Interest Payable', value: formatCurrency(0) },
                { label: 'Total Payment', value: formatCurrency(0) }
            ]);
        }
    }
    calculateEmiBtn.addEventListener('click', calculateEMI);


    // --- SIP Calculator Logic ---
    const sipMonthlyInvestmentInput = document.getElementById('sipMonthlyInvestment');
    const sipAnnualReturnRateInput = document.getElementById('sipAnnualReturnRate');
    const sipInvestmentPeriodInput = document.getElementById('sipInvestmentPeriod');
    const calculateSipBtn = document.getElementById('calculateSipBtn');

    function calculateSIP() {
        const P = parseFloat(sipMonthlyInvestmentInput.value);
        const R = parseFloat(sipAnnualReturnRateInput.value);
        const N = parseFloat(sipInvestmentPeriodInput.value);

        if (P > 0 && R >= 0 && N > 0) {
            const monthlyRate = R / (12 * 100);
            const numberOfMonths = N * 12;

            let futureValue = 0;
            if (monthlyRate === 0) {
                futureValue = P * numberOfMonths;
            } else {
                futureValue = P * ((Math.pow(1 + monthlyRate, numberOfMonths) - 1) / monthlyRate) * (1 + monthlyRate);
            }

            const totalInvested = P * numberOfMonths;
            const estimatedReturns = futureValue - totalInvested;

            displayResult('SIP Calculation Result', formatCurrency(futureValue), [
                { label: 'Total Invested Amount', value: formatCurrency(totalInvested) },
                { label: 'Estimated Returns', value: formatCurrency(estimatedReturns) },
                { label: 'Total Value', value: formatCurrency(futureValue) }
            ]);
        } else {
            displayResult('SIP Calculation Result', formatCurrency(0), [
                { label: 'Total Invested Amount', value: formatCurrency(0) },
                { label: 'Estimated Returns', value: formatCurrency(0) },
                { label: 'Total Value', value: formatCurrency(0) }
            ]);
        }
    }
    calculateSipBtn.addEventListener('click', calculateSIP);


    // --- Step-up SIP Calculator Logic ---
    const stepUpSipMonthlyInvestmentInput = document.getElementById('stepUpSipMonthlyInvestment');
    const stepUpSipAnnualReturnRateInput = document.getElementById('stepUpSipAnnualReturnRate');
    const stepUpSipInvestmentPeriodInput = document.getElementById('stepUpSipInvestmentPeriod');
    const stepUpSipPercentageInput = document.getElementById('stepUpSipPercentage');
    const calculateStepUpSipBtn = document.getElementById('calculateStepUpSipBtn');

    function calculateStepUpSIP() {
        const initialMonthlyInvestment = parseFloat(stepUpSipMonthlyInvestmentInput.value);
        const annualReturnRate = parseFloat(stepUpSipAnnualReturnRateInput.value);
        const investmentPeriodYears = parseFloat(stepUpSipInvestmentPeriodInput.value);
        const stepUpPercentage = parseFloat(stepUpSipPercentageInput.value);

        if (initialMonthlyInvestment > 0 && annualReturnRate >= 0 && investmentPeriodYears > 0 && stepUpPercentage >= 0) {
            const monthlyRate = annualReturnRate / (12 * 100);
            const stepUpFactor = 1 + (stepUpPercentage / 100);

            let totalValue = 0;
            let totalInvested = 0;
            let currentMonthlyInvestment = initialMonthlyInvestment;

            for (let year = 0; year < investmentPeriodYears; year++) {
                for (let month = 0; month < 12; month++) {
                    totalValue = (totalValue + currentMonthlyInvestment) * (1 + monthlyRate);
                    totalInvested += currentMonthlyInvestment;
                }
                // Step up the investment at the start of the next year
                currentMonthlyInvestment *= stepUpFactor;
            }

            const estimatedReturns = totalValue - totalInvested;

            displayResult('Step-up SIP Calculation Result', formatCurrency(totalValue), [
                { label: 'Total Invested Amount', value: formatCurrency(totalInvested) },
                { label: 'Estimated Returns', value: formatCurrency(estimatedReturns) },
                { label: 'Total Value', value: formatCurrency(totalValue) }
            ]);
        } else {
            displayResult('Step-up SIP Calculation Result', formatCurrency(0), [
                { label: 'Total Invested Amount', value: formatCurrency(0) },
                { label: 'Estimated Returns', value: formatCurrency(0) },
                { label: 'Total Value', value: formatCurrency(0) }
            ]);
        }
    }
    calculateStepUpSipBtn.addEventListener('click', calculateStepUpSIP);


    // --- FD Calculator Logic ---
    const fdPrincipalInput = document.getElementById('fdPrincipal');
    const fdInterestRateInput = document.getElementById('fdInterestRate');
    const fdTenureInput = document.getElementById('fdTenure');
    const fdCompoundingFrequencySelect = document.getElementById('fdCompoundingFrequency');
    const calculateFdBtn = document.getElementById('calculateFdBtn');

    function calculateFD() {
        const P = parseFloat(fdPrincipalInput.value);
        const R = parseFloat(fdInterestRateInput.value);
        const T = parseFloat(fdTenureInput.value);
        const n = parseFloat(fdCompoundingFrequencySelect.value); // Number of times interest is compounded per year

        if (P > 0 && R >= 0 && T > 0 && n > 0) {
            const r = R / 100; // Annual interest rate in decimal

            const maturityAmount = P * Math.pow(1 + r / n, n * T);
            const totalInterest = maturityAmount - P;

            displayResult('FD Calculation Result', formatCurrency(maturityAmount), [
                { label: 'Maturity Amount', value: formatCurrency(maturityAmount) },
                { label: 'Total Interest Earned', value: formatCurrency(totalInterest) }
            ]);
        } else {
            displayResult('FD Calculation Result', formatCurrency(0), [
                { label: 'Maturity Amount', value: formatCurrency(0) },
                { label: 'Total Interest Earned', value: formatCurrency(0) }
            ]);
        }
    }
    calculateFdBtn.addEventListener('click', calculateFD);


    // --- RD Calculator Logic ---
    const rdMonthlyDepositInput = document.getElementById('rdMonthlyDeposit');
    const rdAnnualInterestRateInput = document.getElementById('rdAnnualInterestRate');
    const rdTenureInput = document.getElementById('rdTenure');
    const calculateRdBtn = document.getElementById('calculateRdBtn');

    function calculateRD() {
        const R_deposit = parseFloat(rdMonthlyDepositInput.value);
        const annualRate = parseFloat(rdAnnualInterestRateInput.value);
        const N_years = parseFloat(rdTenureInput.value);

        if (R_deposit > 0 && annualRate >= 0 && N_years > 0) {
            const monthlyRate = annualRate / (12 * 100);
            const numberOfMonths = N_years * 12;

            let maturityAmount = 0;
            if (monthlyRate === 0) {
                maturityAmount = R_deposit * numberOfMonths;
            } else {
                // Formula for RD maturity amount, compounded monthly
                maturityAmount = R_deposit * ((Math.pow(1 + monthlyRate, numberOfMonths) - 1) / monthlyRate) * (1 + monthlyRate);
            }

            const totalDeposited = R_deposit * numberOfMonths;
            const totalInterest = maturityAmount - totalDeposited;

            displayResult('RD Calculation Result', formatCurrency(maturityAmount), [
                { label: 'Total Deposited Amount', value: formatCurrency(totalDeposited) },
                { label: 'Total Interest Earned', value: formatCurrency(totalInterest) },
                { label: 'Maturity Amount', value: formatCurrency(maturityAmount) }
            ]);
        } else {
            displayResult('RD Calculation Result', formatCurrency(0), [
                { label: 'Total Deposited Amount', value: formatCurrency(0) },
                { label: 'Total Interest Earned', value: formatCurrency(0) },
                { label: 'Maturity Amount', value: formatCurrency(0) }
            ]);
        }
    }
    calculateRdBtn.addEventListener('click', calculateRD);


    // --- SSY Calculator Logic ---
    const ssyAnnualInvestmentInput = document.getElementById('ssyAnnualInvestment');
    const ssyCurrentAgeInput = document.getElementById('ssyCurrentAge');
    const ssyInterestRateInput = document.getElementById('ssyInterestRate');
    const calculateSsyBtn = document.getElementById('calculateSsyBtn');

    function calculateSSY() {
        const annualInvestment = parseFloat(ssyAnnualInvestmentInput.value);
        const currentAge = parseFloat(ssyCurrentAgeInput.value);
        const annualInterestRate = parseFloat(ssyInterestRateInput.value);

        if (annualInvestment >= 250 && annualInvestment <= 150000 && currentAge >= 0 && currentAge <= 10 && annualInterestRate > 0) {
            const investmentPeriod = 15; // Years for which deposits can be made
            const maturityPeriod = 21; // Years from account opening for maturity
            const rate = annualInterestRate / 100;

            let totalInvested = 0;
            let currentBalance = 0;

            // Calculate investment phase (15 years)
            for (let year = 1; year <= investmentPeriod; year++) {
                totalInvested += annualInvestment;
                currentBalance += annualInvestment;
                currentBalance = currentBalance * (1 + rate); // Annual compounding
            }

            // Calculate interest-only phase until maturity (remaining years)
            // The SSY account matures when the girl child turns 21 or after 21 years from opening, whichever is earlier.
            // Since deposits are for 15 years, interest accrues for the remaining years.
            const yearsToMaturityFromInvestmentEnd = (maturityPeriod - currentAge) - investmentPeriod;
            if (yearsToMaturityFromInvestmentEnd > 0) {
                currentBalance = currentBalance * Math.pow(1 + rate, yearsToMaturityFromInvestmentEnd);
            }

            const totalInterest = currentBalance - totalInvested;

            displayResult('SSY Calculation Result', formatCurrency(currentBalance), [
                { label: 'Total Invested Amount', value: formatCurrency(totalInvested) },
                { label: 'Total Interest Earned', value: formatCurrency(totalInterest) },
                { label: 'Maturity Amount', value: formatCurrency(currentBalance) }
            ]);
        } else {
            displayResult('SSY Calculation Result', formatCurrency(0), [
                { label: 'Total Invested Amount', value: formatCurrency(0) },
                { label: 'Total Interest Earned', value: formatCurrency(0) },
                { label: 'Maturity Amount', value: formatCurrency(0) }
            ]);
        }
    }
    calculateSsyBtn.addEventListener('click', calculateSSY);


    // --- PPF Calculator Logic ---
    const ppfAnnualInvestmentInput = document.getElementById('ppfAnnualInvestment');
    const ppfInterestRateInput = document.getElementById('ppfInterestRate');
    const ppfTenureInput = document.getElementById('ppfTenure');
    const calculatePpfBtn = document.getElementById('calculatePpfBtn');

    function calculatePPF() {
        const annualInvestment = parseFloat(ppfAnnualInvestmentInput.value);
        const annualInterestRate = parseFloat(ppfInterestRateInput.value);
        const tenureYears = parseFloat(ppfTenureInput.value);

        if (annualInvestment >= 500 && annualInvestment <= 150000 && annualInterestRate > 0 && tenureYears >= 1) {
            const rate = annualInterestRate / 100;
            let currentBalance = 0;
            let totalInvested = 0;

            for (let year = 1; year <= tenureYears; year++) {
                currentBalance += annualInvestment;
                currentBalance = currentBalance * (1 + rate); // Annual compounding
                totalInvested += annualInvestment;
            }

            const totalInterest = currentBalance - totalInvested;

            displayResult('PPF Calculation Result', formatCurrency(currentBalance), [
                { label: 'Total Invested Amount', value: formatCurrency(totalInvested) },
                { label: 'Total Interest Earned', value: formatCurrency(totalInterest) },
                { label: 'Maturity Amount', value: formatCurrency(currentBalance) }
            ]);
        } else {
            displayResult('PPF Calculation Result', formatCurrency(0), [
                { label: 'Total Invested Amount', value: formatCurrency(0) },
                { label: 'Total Interest Earned', value: formatCurrency(0) },
                { label: 'Maturity Amount', value: formatCurrency(0) }
            ]);
        }
    }
    calculatePpfBtn.addEventListener('click', calculatePPF);


    // --- Loan Eligibility Calculator Logic ---
    const leMonthlyIncomeInput = document.getElementById('leMonthlyIncome');
    const leMonthlyExpensesInput = document.getElementById('leMonthlyExpenses');
    const leInterestRateInput = document.getElementById('leInterestRate');
    const leTenureInput = document.getElementById('leTenure');
    const calculateLoanEligibilityBtn = document.getElementById('calculateLoanEligibilityBtn');

    function calculateLoanEligibility() {
        const monthlyIncome = parseFloat(leMonthlyIncomeInput.value);
        const existingEMIs = parseFloat(leMonthlyExpensesInput.value);
        const annualInterestRate = parseFloat(leInterestRateInput.value);
        const tenureYears = parseFloat(leTenureInput.value);

        if (monthlyIncome > 0 && annualInterestRate >= 0 && tenureYears > 0) {
            // Assuming a typical FOIR (Fixed Obligation to Income Ratio) of 50%
            const foir = 0.50;
            const maxAffordableEMI = (monthlyIncome * foir) - (existingEMIs || 0);

            let eligibleLoanAmount = 0;
            if (maxAffordableEMI > 0) {
                const monthlyInterestRate = annualInterestRate / (12 * 100);
                const numberOfMonths = tenureYears * 12;

                if (monthlyInterestRate === 0) {
                    eligibleLoanAmount = maxAffordableEMI * numberOfMonths;
                } else {
                    eligibleLoanAmount = maxAffordableEMI * ( (Math.pow(1 + monthlyInterestRate, numberOfMonths) - 1) / (monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfMonths)) );
                }
            }

            displayResult('Loan Eligibility Result', formatCurrency(eligibleLoanAmount), [
                { label: 'Maximum Eligible Loan Amount', value: formatCurrency(eligibleLoanAmount) },
                { label: 'Max Monthly EMI You Can Afford', value: formatCurrency(maxAffordableEMI > 0 ? maxAffordableEMI : 0) }
            ]);
        } else {
            displayResult('Loan Eligibility Result', formatCurrency(0), [
                { label: 'Maximum Eligible Loan Amount', value: formatCurrency(0) },
                { label: 'Max Monthly EMI You Can Afford', value: formatCurrency(0) }
            ]);
        }
    }
    calculateLoanEligibilityBtn.addEventListener('click', calculateLoanEligibility);


    // --- Gratuity Calculator Logic ---
    const grLastDrawnSalaryInput = document.getElementById('grLastDrawnSalary');
    const grYearsOfServiceInput = document.getElementById('grYearsOfService');
    const grCoveredRadios = document.querySelectorAll('input[name="grCovered"]');
    const calculateGratuityBtn = document.getElementById('calculateGratuityBtn');

    function calculateGratuity() {
        const lastDrawnSalary = parseFloat(grLastDrawnSalaryInput.value);
        const yearsOfService = parseFloat(grYearsOfServiceInput.value);
        const isCovered = document.querySelector('input[name="grCovered"]:checked').value === 'yes';

        let calculatedGratuity = 0;

        if (lastDrawnSalary > 0 && yearsOfService > 0) {
            if (isCovered) {
                // Covered under Gratuity Act: (Last Drawn Salary / 26) * 15 * Years of Service
                // Years of service rounded to nearest integer for 6 months or more
                const effectiveYears = Math.floor(yearsOfService);
                const remainingMonths = (yearsOfService - effectiveYears) * 12;
                const finalYearsOfService = remainingMonths >= 6 ? effectiveYears + 1 : effectiveYears;

                calculatedGratuity = (lastDrawnSalary / 26) * 15 * finalYearsOfService;
            } else {
                // Not Covered under Gratuity Act: (Last Drawn Salary / 30) * 15 * Years of Service
                // Years of service taken as completed years only (no rounding up for months)
                const completedYears = Math.floor(yearsOfService);
                calculatedGratuity = (lastDrawnSalary / 30) * 15 * completedYears;
            }
        }
        displayResult('Gratuity Calculation Result', formatCurrency(calculatedGratuity), [
            { label: 'Estimated Gratuity Amount', value: formatCurrency(calculatedGratuity) }
        ]);
    }
    calculateGratuityBtn.addEventListener('click', calculateGratuity);

    // --- PLI Calculator Logic (New) ---
    const pliSumAssuredInput = document.getElementById('pliSumAssured');
    const pliEntryAgeInput = document.getElementById('pliEntryAge');
    const pliMaturityAgeInput = document.getElementById('pliMaturityAge');
    const pliBonusRateInput = document.getElementById('pliBonusRate');
    const calculatePliBtn = document.getElementById('calculatePliBtn');

    function calculatePLI() {
        const sumAssured = parseFloat(pliSumAssuredInput.value);
        const entryAge = parseFloat(pliEntryAgeInput.value);
        const maturityAge = parseFloat(pliMaturityAgeInput.value);
        const bonusRate = parseFloat(pliBonusRateInput.value); // Per 1000 Sum Assured

        let totalMaturityAmount = 0;
        let totalPremiumsPaid = 0;
        let totalBonus = 0;

        if (sumAssured >= 20000 && entryAge >= 19 && entryAge <= 55 && maturityAge >= 35 && maturityAge <= 60 && maturityAge > entryAge && bonusRate >= 0) {
            const policyTerm = maturityAge - entryAge;

            // Calculate annual premium (simplified - actual PLI premiums are complex and depend on many factors)
            // For demonstration, let's assume a simplified premium calculation.
            // In a real scenario, this would come from a premium chart or a more complex formula.
            // Here, we'll use a placeholder logic: a small percentage of sum assured per year.
            const simplifiedAnnualPremiumRate = 0.05; // 5% of Sum Assured annually as a placeholder
            const annualPremium = sumAssured * simplifiedAnnualPremiumRate;

            totalPremiumsPaid = annualPremium * policyTerm;

            // Calculate bonus: (Sum Assured / 1000) * Bonus Rate * Policy Term
            totalBonus = (sumAssured / 1000) * bonusRate * policyTerm;

            // Maturity amount = Sum Assured + Total Bonus
            totalMaturityAmount = sumAssured + totalBonus;

            displayResult('PLI Calculation Result', formatCurrency(totalMaturityAmount), [
                { label: 'Sum Assured', value: formatCurrency(sumAssured) },
                { label: 'Policy Term (Years)', value: policyTerm.toFixed(0) },
                { label: 'Total Estimated Premiums Paid', value: formatCurrency(totalPremiumsPaid) },
                { label: 'Total Estimated Bonus', value: formatCurrency(totalBonus) },
                { label: 'Total Maturity Amount', value: formatCurrency(totalMaturityAmount) }
            ]);

        } else {
            displayResult('PLI Calculation Result', formatCurrency(0), [
                { label: 'Sum Assured', value: formatCurrency(0) },
                { label: 'Policy Term (Years)', value: '0' },
                { label: 'Total Estimated Premiums Paid', value: formatCurrency(0) },
                { label: 'Total Estimated Bonus', value: formatCurrency(0) },
                { label: 'Total Maturity Amount', value: formatCurrency(0) }
            ]);
        }
    }
    calculatePliBtn.addEventListener('click', calculatePLI);
</script>
</body>
</html>
