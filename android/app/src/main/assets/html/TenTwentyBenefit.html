<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WB Employee/Teacher 10/20 Years Benefit Calculator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prop-types/15.8.1/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Basic, clean theme with soft colors */
        body {
          font-family: 'Poppins', sans-serif;
          background-color: #f0f2f5; /* Light grey background */
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-start;
          margin: 0;
          padding-top: 2rem;
        }

        #root {
          width: 100%;
          max-width: 50rem;
          margin: 2rem;
        }

        .calculator-card {
          background-color: #ffffff; /* Solid white background */
          border-radius: 0.75rem;
          padding: 2.5rem;
          margin-bottom: 2rem;
          /* Removed border and box-shadow for a simpler, flatter look */
          transition: all 0.2s ease;
        }

        .calculator-card:hover {
          transform: translateY(-2px); /* Subtle lift on hover */
          /* Adjusted box-shadow for a simpler hover effect */
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .title {
          font-size: 2rem;
          font-weight: 700;
          text-align: center;
          color: #333333;
          margin-bottom: 2rem;
        }

        /* Specific style for the 'Calculation Results' title */
        .results .title {
          color: #007bff;
        }

        .label {
          display: block;
          color: #555555;
          font-weight: 600;
          margin-bottom: 0.8rem;
          font-size: 1rem;
        }

        .select, .input {
          width: 100%;
          padding: 0.8rem;
          border: 1px solid #cccccc;
          border-radius: 0.5rem;
          background-color: #f8f8f8;
          color: #333333;
          font-size: 0.95rem;
          transition: all 0.2s ease;
        }

        .select:focus, .input:focus {
          outline: none;
          border-color: #007bff;
          box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }

        .select option {
          background-color: #ffffff;
          color: #333333;
        }

        .select:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          background-color: #eeeeee;
        }

        .input::placeholder {
          color: #aaaaaa;
        }

        .radio-group {
          margin-bottom: 1.5rem;
        }

        .radio-label {
          display: inline-flex;
          align-items: center;
          margin-right: 1.5rem;
          color: #555555;
          font-size: 0.95rem;
          cursor: pointer;
        }

        .radio-input {
          margin-right: 0.6rem;
          accent-color: #007bff;
          width: 1.2rem;
          height: 1.2rem;
        }

        .results {
          margin-top: 2rem;
        }

        /* New styles for simple results list */
        .results-list {
          background-color: #ffffff;
          border-radius: 0.75rem;
          /* Removed border and box-shadow for a simpler, flatter look */
          padding: 1.5rem;
        }

        .result-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem 0;
          border-bottom: 1px solid #eeeeee;
          font-size: 1.05rem;
          color: #333333;
        }

        .result-item:last-child {
          border-bottom: none;
        }

        .grid-label {
          color: #555555;
          font-weight: 600;
          flex-grow: 1;
        }

        /* Style for highlighted values in the results */
        .grid-value.highlight {
          color: #007bff;
          font-weight: 700;
          font-size: 1.1rem;
        }

        .grid-value {
          color: #333333;
          font-size: 1.05rem;
          text-align: right;
        }

        /* Calculate Button Styles */
        .calculate-button {
          display: block;
          width: 100%;
          padding: 1rem;
          margin-top: 2rem;
          background-color: #007bff;
          color: #ffffff;
          font-size: 1.1rem;
          font-weight: 600;
          border: none;
          border-radius: 0.5rem;
          cursor: pointer;
          transition: background-color 0.3s ease, transform 0.2s ease;
          box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);
        }

        .calculate-button:hover {
          background-color: #0056b3;
          transform: translateY(-1px);
        }

        .calculate-button:active {
          transform: translateY(0);
          box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);
        }

        .calculate-button:disabled {
          background-color: #cccccc;
          cursor: not-allowed;
          box-shadow: none;
        }

        /* Article styles - simplified */
        .article-card {
          background-color: #ffffff;
          border-radius: 0.75rem;
          padding: 2.5rem;
          width: 100%;
          max-width: 50rem;
          margin: 2rem;
          /* Removed border and box-shadow for a simpler, flatter look */
          transition: all 0.2s ease;
        }

        .article-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .article-card h1 {
          font-size: 1.8rem;
          font-weight: 700;
          color: #333333;
          margin-bottom: 1.2rem;
          text-align: center;
        }

        .article-card h2 {
          font-size: 1.3rem;
          font-weight: 600;
          color: #555555;
          margin: 1.2rem 0 0.8rem;
        }

        .article-card p {
          color: #444444;
          font-size: 0.95rem;
          line-height: 1.6;
          margin-bottom: 0.8rem;
        }

        .article-card ul, .article-card ol {
          margin-left: 1.5rem; /* Reduced indent */
          color: #444444;
          font-size: 0.95rem;
          line-height: 1.6;
        }

        .article-card ul li, .article-card ol li {
          margin-bottom: 0.5rem;
        }

        .article-card ul ul {
          list-style-type: circle;
          margin-left: 1.5rem;
          margin-top: 0.4rem;
        }

        .article-card em {
          color: #007bff; /* Match highlight color for emphasis */
          font-style: normal; /* Remove italic for simpler look */
          font-weight: 600;
        }


        /* Media query for smaller screens - adjusted for simpler design */
        @media (max-width: 768px) {
          #root {
            margin: 1rem;
          }

          .calculator-card, .article-card {
            padding: 1.5rem;
          }

          .title {
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
          }

          .label {
            font-size: 0.95rem;
          }

          .select, .input {
            padding: 0.6rem;
            font-size: 0.9rem;
          }

          .radio-label {
            font-size: 0.9rem;
            margin-right: 0.8rem;
          }

          .radio-input {
            width: 1.1rem;
            height: 1.1rem;
          }

          .results-list {
            padding: 1rem;
          }

          .result-item {
            /* Stack label and value vertically on small screens */
            flex-direction: column;
            align-items: flex-start; /* Align label/value to the start */
            padding: 0.6rem 0;
          }

          .grid-label {
            font-size: 0.9rem;
            margin-bottom: 0.2rem; /* Small space between label and value */
          }

          .grid-value {
            font-size: 1rem;
            text-align: left; /* Align value to the left when stacked */
            width: 100%; /* Ensure value takes full width when stacked */
          }

          .grid-value.highlight {
            font-size: 1.1rem;
          }

          .article-card h1 {
            font-size: 1.5rem;
          }

          .article-card h2 {
            font-size: 1.2rem;
          }

          .article-card p, .article-card ul, .article-card ol {
            font-size: 0.85rem;
          }
        }
    </style>
</head>
<body>
<div id="root" class="calculator-card"></div>

<div class="article-card">
    <h1>Understanding the WB Employee 10/20 Years Benefit</h1>
    <p>The 10/20 Years Benefit is a significant career advancement opportunity for West Bengal government employees. It allows for an accelerated increment in basic pay after completing 10 or 20 years of continuous and satisfactory service, even if a regular promotion has not occurred.</p>
    <p>This benefit typically involves moving up by two stages in the pay matrix, providing a substantial boost to the employee's salary. It's designed to acknowledge long-term service and provide financial progression for dedicated staff.</p>
    <h2>Disclaimer:</h2>
    <p>This calculator is designed for estimation purposes only and is based on the general understanding of the West Bengal Pay Matrix and associated allowances. While efforts have been made to ensure accuracy, the actual salary and benefits may vary due to specific government orders, individual service rules, or other factors not accounted for in this tool. Users are advised to consult official government notifications, their department's HR, or a financial advisor for precise and official salary calculations.</p>
</div>

<script type="text/javascript">
    console.log("Script execution started."); // Added for debugging

    // Pay matrix data from the Excel file
    const payMatrix = [
      { level: '1', gradePay: 1700, entryBasicPay: 17000 },
      { level: '2', gradePay: 1800, entryBasicPay: 17600 },
      { level: '3', gradePay: 1900, entryBasicPay: 18800 },
      { level: '4', gradePay: 2100, entryBasicPay: 19700 },
      { level: '5', gradePay: 2300, entryBasicPay: 21000 },
      { level: '6', gradePay: 2600, entryBasicPay: 22700 },
      { level: '7', gradePay: 2900, entryBasicPay: 27000 },
      { level: '8', gradePay: 3200, entryBasicPay: 28900 },
      { level: '9', gradePay: 3600, entryBasicPay: 31800 },
      { level: '10', gradePay: 3900, entryBasicPay: 33000 },
      { level: '11', gradePay: 4100, entryBasicPay: 33400 },
      { level: '12', gradePay: 4400, entryBasicPay: 35800 },
      { level: '13', gradePay: 4600, entryBasicPay: 37100 },
      { level: '14', gradePay: 4700, entryBasicPay: 39900 },
      { level: '15', gradePay: 4800, entryBasicPay: 42600 },
      { level: '15A', gradePay: 5200, entryBasicPay: 52200 },
      { level: '16', gradePay: 5400, entryBasicPay: 56100 },
      { level: '17', gradePay: 6600, entryBasicPay: 67300 },
      { level: '18', gradePay: 7000, entryBasicPay: 68400 },
      { level: '19', gradePay: 7600, entryBasicPay: 95100 },
      { level: '20', gradePay: 8000, entryBasicPay: 96100 },
      { level: '21', gradePay: 8700, entryBasicPay: 123100 },
      { level: '22', gradePay: 8900, entryBasicPay: 123600 },
      { level: '23', gradePay: 9500, entryBasicPay: 125200 },
      { level: '24', gradePay: 10000, entryBasicPay: 128900 }
    ];

    // Pay matrix levels for basic pay selection
    const levelPayScales = {
      '1': [17000, 17500, 18000, 18500, 19100, 19700, 20300, 20900, 21500, 22100, 22800, 23500, 24200, 24900, 25600, 26400, 27200, 28000, 28800, 29700, 30600, 31500, 32400, 33400, 34400, 35400, 36500, 37600, 38700, 39900, 41100, 42300, 43600],
      '2': [17600, 18100, 18600, 19200, 19800, 20400, 21000, 21600, 22200, 22900, 23600, 24300, 25000, 25800, 26600, 27400, 28200, 29000, 29900, 30800, 31700, 32700, 33700, 34700, 35700, 36800, 37900, 39000, 40200, 41400, 42600, 43900, 45200],
      '3': [18800, 19400, 20000, 20600, 21200, 21800, 22500, 23200, 23900, 24600, 25300, 26100, 26900, 27700, 28500, 29400, 30300, 31200, 32100, 33100, 34100, 35100, 36200, 37300, 38400, 39600, 40800, 42000, 43300, 44600, 45900, 47300, 48700],
      '4': [19700, 20300, 20900, 21500, 22100, 22800, 23500, 24200, 24900, 25600, 26400, 27200, 28000, 28800, 29700, 30600, 31500, 32400, 33400, 34400, 35400, 36500, 37600, 38700, 39900, 41100, 42300, 43600, 44900, 46200, 47600, 49000, 50500],
      '5': [21000, 21600, 22200, 22900, 23600, 24300, 25000, 25800, 26600, 27400, 28200, 29000, 29900, 30800, 31700, 32700, 33700, 34700, 35700, 36800, 37900, 39000, 40200, 41400, 42600, 43900, 45200, 46600, 48000, 49400, 50900, 52400, 54000],
      '6': [22700, 23400, 24100, 24800, 25500, 26300, 27100, 27900, 28700, 29600, 30500, 31400, 32300, 33300, 34300, 35300, 36400, 37500, 38600, 39800, 41000, 42200, 43500, 44800, 46100, 47500, 48900, 50400, 51900, 53500, 55100, 56800, 58500],
      '7': [24700, 25400, 26200, 27000, 27800, 28600, 29500, 30400, 31300, 32200, 33200, 34200, 35200, 36300, 37400, 38500, 39700, 40900, 42100, 43400, 44700, 46000, 47400, 48800, 50300, 51800, 53400, 55000, 56700, 58400, 60200, 62000, 63900],
      '8': [27000, 27800, 28600, 29500, 30400, 31300, 32200, 33200, 34200, 35200, 36300, 37400, 38500, 39700, 40900, 42100, 43400, 44700, 46000, 47400, 48800, 50300, 51800, 53400, 55000, 56700, 58400, 60200, 62000, 63900, 65800, 67800, 69800],
      '9': [28900, 29800, 30700, 31600, 32500, 33500, 34500, 35500, 36600, 37700, 38800, 40000, 41200, 42400, 43700, 45000, 46400, 47800, 49200, 50700, 52200, 53800, 55400, 57100, 58800, 60600, 62400, 64300, 66200, 68200, 70200, 72300, 74500],
      '10': [32100, 33100, 34100, 35100, 36200, 37300, 38400, 39600, 40800, 42000, 43300, 44600, 45900, 47300, 48700, 50200, 51700, 53300, 54900, 56500, 58200, 59900, 61700, 63600, 65500, 67500, 69500, 71600, 73700, 75900, 78200, 80500, 82900],
      '11': [33400, 34400, 35400, 36500, 37600, 38700, 39900, 41100, 42300, 43600, 44900, 46200, 47600, 49000, 50500, 52000, 53600, 55200, 56900, 58600, 60400, 62200, 64100, 66000, 68000, 70000, 72100, 74300, 76500, 78800, 81200, 83600, 86100],
      '12': [35800, 36900, 38000, 39100, 40300, 41500, 42700, 44000, 45300, 46700, 48100, 49500, 51000, 52500, 54100, 55700, 57400, 59100, 60900, 62700, 64600, 66500, 68500, 70600, 72700, 74900, 77100, 79400, 81800, 84300, 86800, 89400, 92100],
      '13': [37100, 38200, 39300, 40500, 41700, 43000, 44300, 45600, 47000, 48400, 49900, 51400, 52900, 54500, 56100, 57800, 59500, 61300, 63100, 65000, 67000, 69000, 71100, 73200, 75400, 77700, 80000, 82400, 84900, 87400, 90000, 92700, 95500],
      '14': [39900, 41100, 42300, 43600, 44900, 46200, 47600, 49000, 50500, 52000, 53600, 55200, 56900, 58600, 60400, 62200, 64100, 66000, 68000, 70000, 72100, 74300, 76500, 78800, 81200, 83600, 86100, 88700, 91400, 94100, 96900, 99800, 102800],
      '15': [42600, 43900, 45200, 46600, 48000, 49400, 50900, 52400, 54000, 55600, 57300, 59000, 60800, 62600, 64500, 66400, 68400, 70500, 72600, 74800, 77000, 79300, 81700, 84200, 86700, 89300, 92000, 94800, 97600, 100500, 103500, 106600, 109800],
      '15A': [52200, 53800, 55400, 57100, 58800, 60600, 62400, 64300, 66200, 68200, 70200, 72300, 74500, 76700, 79000, 81400, 83800, 86300, 88900, 91600, 94300, 97100, 100000, 103000, 106100, 109300, 112600, 116000, 119500, 123100, 126800, 130600, 134500],
      '16': [56100, 57800, 59500, 61300, 63100, 65000, 67000, 69000, 71100, 73200, 75400, 77700, 80000, 82400, 84900, 87400, 90000, 92700, 95500, 98400, 101400, 104400, 107500, 110700, 114000, 117400, 120900, 124500, 128200, 132000, 136000, 140100, 144300],
      '17': [67300, 69300, 71400, 73500, 75700, 78000, 80300, 82700, 85200, 87800, 90400, 93100, 95900, 98800, 101800, 104900, 108000, 111200, 114500, 117900, 121400, 125000, 128800, 132700, 136700, 140800, 145000, 149400, 153900, 158500, 163300, 168200, 173200],
      '18': [68400, 70500, 72600, 74800, 77000, 79300, 81700, 84200, 86700, 89300, 92000, 94800, 97600, 100500, 103500, 106600, 109800, 113100, 116500, 120000, 123600, 127300, 131100, 135000, 139100, 143300, 147600, 152000, 156600, 161300, 166100, 171100, 176200],
      '19': [95100, 98000, 100900, 103900, 107000, 110200, 113500, 116900, 120400, 124000, 127700, 131500, 135400, 139500, 143700, 148000, 152400, 157000, 161700, 166600, 171600, 176700, 182000, 187600, 193200, 199000, 204900, 211000, 217300, 223800, 230500, 237400, 244500],
      '20': [96100, 99000, 102000, 105100, 108300, 111500, 114800, 118200, 121700, 125400, 129200, 133100, 137100, 141200, 145400, 149800, 154300, 158900, 163700, 168600, 173700, 178900, 184300, 189800, 195500, 201400, 207400, 213600, 220000, 226600, 233400, 240400, 247600],
      '21': [123100, 126800, 130600, 134500, 138500, 142700, 147000, 151400, 155900, 160600, 165400, 170400, 175500, 180800, 186200, 191800, 197600, 203500, 209600, 215900, 222400, 229100, 236000, 243100, 250400, 257900, 265600, 273600, 281800, 290300, 299000, 307900, 317100],
      '22': [123600, 127300, 131100, 135000, 139100, 143300, 147600, 152000, 156600, 161300, 166100, 171100, 176200, 181500, 186900, 192500, 198300, 204200, 210300, 216600, 223100, 229800, 236700, 243800, 251100, 258600, 266400, 274400, 282600, 291100, 299800, 308800, 318100],
      '23': [125200, 129000, 132900, 136900, 141000, 145200, 149600, 154100, 158700, 163500, 168400, 173500, 178700, 184100, 189600, 195300, 201200, 207200, 213400, 219800, 226400, 233200, 240200, 247400, 254800, 262400, 270300, 278400, 286800, 295200, 304100, 313200, 322600],
      '24': [128900, 132800, 136800, 140900, 145100, 149500, 154000, 158600, 163400, 168300, 173300, 178500, 183900, 189400, 195100, 201000, 207000, 213200, 219600, 226200, 232900, 239900, 247100, 254500, 262100, 270000, 278100, 286400, 295000, 303900, 313000, 322400, 332100]
    };

    /**
     * Calculates the Professional Tax based on West Bengal slab rates.
     * @param {number} grossSalary - The gross salary of the employee.
     * @returns {number} The calculated professional tax.
     */
    const calculatePTax = (grossSalary) => {
      if (grossSalary <= 10000) return 0;
      if (grossSalary <= 15000) return 110;
      if (grossSalary <= 25000) return 130;
      if (grossSalary <= 40000) return 150;
      return 200;
    };

    /**
     * Finds the next basic pay in the given pay scale for a 10/20 years benefit (2 steps up).
     * @param {string} level - The pay level.
     * @param {number} currentBasicPay - The current basic pay.
     * @returns {number} The next basic pay for 10/20 year benefit.
     */
    const get1020YearBenefitBasicPay = (level, currentBasicPay) => {
      const payScale = levelPayScales[level];
      if (!payScale) return currentBasicPay; // Return current if payScale not found
      const currentIndex = payScale.indexOf(currentBasicPay);
      if (currentIndex === -1) return currentBasicPay; // Return current if not found in scale

      // 10/20 years benefit (2 steps up)
      if (currentIndex >= payScale.length - 2) return payScale[payScale.length - 1]; // If near end, go to last step
      return payScale[currentIndex + 2];
    };

    /**
     * Finds the next basic pay in the given pay scale for a normal yearly increment (1 step up).
     * @param {string} level - The pay level.
     * @param {number} currentBasicPay - The current basic pay.
     * @returns {number} The next basic pay for normal increment.
     */
    const getNormalIncrementBasicPay = (level, currentBasicPay) => {
      const payScale = levelPayScales[level];
      if (!payScale) return currentBasicPay; // Return current if payScale not found
      const currentIndex = payScale.indexOf(currentBasicPay);
      if (currentIndex === -1) return currentBasicPay; // Return current if not found in scale

      // Normal yearly increment (1 step up)
      if (currentIndex === payScale.length - 1) return currentBasicPay; // If at last step, no increment
      return payScale[currentIndex + 1];
    };


    /**
     * React component for the WB Employee 10/20 Years Benefit Calculator.
     */
    const SalaryCalculator = () => {
      // State variables to manage user inputs
      const [gradePay, setGradePay] = React.useState('');
      const [basicPay, setBasicPay] = React.useState(0);
      const [level, setLevel] = React.useState('');
      const [hraType, setHraType] = React.useState('normal'); // 'normal', 'fixed', or 'none'
      const [fixedHra, setFixedHra] = React.useState('');
      const [maType, setMaType] = React.useState('normal'); // 'normal' or 'none'
      const [npaType, setNpaType] = React.useState('none'); // 'none', '20', or '24'
      const [gpf, setGpf] = React.useState('');
      const [extraBenefit, setExtraBenefit] = React.useState(''); // New state for extra benefit

      // State variables to manage calculated results and their visibility
      const [showResults, setShowResults] = React.useState(false);
      const [calculatedResults, setCalculatedResults] = React.useState(null);

      console.log("SalaryCalculator component rendered.");
      console.log("Initial State - Grade Pay:", gradePay, "Basic Pay:", basicPay, "Level:", level);

      /**
       * Handles change in Grade Pay selection.
       * Updates basic pay and pay level based on selected grade pay.
       * Resets results visibility.
       */
      const handleGradePayChange = (e) => {
        const selectedGradePay = parseInt(e.target.value);
        console.log("Grade Pay changed to:", selectedGradePay);
        setGradePay(selectedGradePay);
        const payData = payMatrix.find(item => item.gradePay === selectedGradePay);
        if (payData) {
          setBasicPay(payData.entryBasicPay);
          setLevel(payData.level);
          console.log("Updated Basic Pay:", payData.entryBasicPay, "Level:", payData.level);
        } else {
          setBasicPay(0);
          setLevel('');
          console.log("Grade Pay not found, Basic Pay and Level reset.");
        }
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in Basic Pay selection.
       * Resets results visibility.
       */
      const handleBasicPayChange = (e) => {
        const selectedBasicPay = parseInt(e.target.value);
        console.log("Basic Pay changed to:", selectedBasicPay);
        setBasicPay(selectedBasicPay);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in GPF input.
       * Resets results visibility.
       */
      const handleGpfChange = (e) => {
        setGpf(e.target.value);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in HRA type.
       * Clears fixed HRA if 'fixed' is not selected.
       * Resets results visibility.
       */
      const handleHraTypeChange = (e) => {
        setHraType(e.target.value);
        if (e.target.value !== 'fixed') {
            setFixedHra(''); // Clear fixed HRA if not selected
        }
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in Fixed HRA amount.
       * Resets results visibility.
       */
      const handleFixedHraChange = (e) => {
        setFixedHra(e.target.value);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in Medical Allowance type.
       * Resets results visibility.
       */
      const handleMaTypeChange = (e) => {
        setMaType(e.target.value);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in Non-Practicing Allowance type.
       * Resets results visibility.
       */
      const handleNpaTypeChange = (e) => {
        setNpaType(e.target.value);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Handles change in Extra Benefit input.
       * Resets results visibility.
       */
      const handleExtraBenefitChange = (e) => {
        setExtraBenefit(e.target.value);
        setShowResults(false); // Hide results on input change
      };

      /**
       * Performs all calculations and updates the results state.
       */
      const handleCalculate = () => {
        console.log("Calculate button clicked.");
        console.log("Current inputs for calculation - Grade Pay:", gradePay, "Basic Pay:", basicPay, "Level:", level);

        if (!gradePay || basicPay === 0 || !level) {
            console.warn("Calculation prevented: Missing Grade Pay, Basic Pay, or Level.");
            // Optionally show a message to the user that inputs are required
            // For now, just prevent calculation if essential inputs are missing
            return;
        }

        // Calculate new basic pay for 10/20 years benefit
        const newBasicPayValue1020 = get1020YearBenefitBasicPay(level, basicPay);
        console.log("New Basic Pay Value (10/20 Year Benefit):", newBasicPayValue1020);

        // Calculate new basic pay for normal increment (July)
        const newBasicPayValueNormal = getNormalIncrementBasicPay(level, basicPay);
        console.log("New Basic Pay Value (Normal Increment):", newBasicPayValueNormal);


        // Calculate Dearness Allowance (DA) for the new 10/20 year benefit basic pay
        const da = Math.round(newBasicPayValue1020 * 0.18);

        // Calculate House Rent Allowance (HRA) based on selection
        let hra;
        if (hraType === 'normal') {
          hra = Math.round(newBasicPayValue1020 * 0.12);
        } else if (hraType === 'fixed') {
          hra = fixedHra ? parseInt(fixedHra) : 0;
        } else {
          hra = 0;
        }

        // Calculate Medical Allowance (MA) based on selection
        const ma = maType === 'normal' ? 500 : 0;

        // Calculate Non-Practicing Allowance (NPA) based on selection
        let npa;
        if (npaType === '20') {
          npa = Math.round(newBasicPayValue1020 * 0.20);
        } else if (npaType === '24') {
          npa = Math.round(newBasicPayValue1020 * 0.24);
        } else {
          npa = 0;
        }

        const parsedExtraBenefit = extraBenefit ? parseInt(extraBenefit) : 0;

        // Calculate total gross salary after 10/20 year benefit
        const grossSalary = newBasicPayValue1020 + da + hra + ma + npa + parsedExtraBenefit;

        // Calculate Professional Tax based on gross salary
        const pTax = calculatePTax(grossSalary);

        // Calculate in-hand salary after all deductions
        const inHandSalary = grossSalary - pTax - (gpf ? parseInt(gpf) : 0);

        // Calculate current salary (before increment) to determine the increment benefit
        const currentDa = Math.round(basicPay * 0.18);
        let currentHra;
        if (hraType === 'normal') {
          currentHra = Math.round(basicPay * 0.12);
        } else if (hraType === 'fixed') {
          currentHra = fixedHra ? parseInt(fixedHra) : 0;
        } else {
          currentHra = 0;
        }
        const currentMa = maType === 'normal' ? 500 : 0;
        let currentNpa;
        if (npaType === '20') {
          currentNpa = Math.round(basicPay * 0.20);
        } else if (npaType === '24') {
          currentNpa = Math.round(basicPay * 0.24);
        } else {
          currentNpa = 0;
        }
        const currentGrossSalary = basicPay + currentDa + currentHra + currentMa + currentNpa + parsedExtraBenefit;
        const incrementBenefit = grossSalary - currentGrossSalary;

        // Store calculated results
        const results = {
            newBasicPay1020: newBasicPayValue1020,
            normalIncrementBasicPay: newBasicPayValueNormal,
            da,
            hra,
            ma,
            npa,
            grossSalary,
            pTax,
            inHandSalary,
            incrementBenefit,
            oldBasicPay: basicPay, // Store old basic pay for display
            extraBenefit: parsedExtraBenefit
        };
        setCalculatedResults(results);
        setShowResults(true); // Show results after calculation
        console.log("Calculation Results:", results);
      };

      // Get available basic pays for the selected level
      const availableBasicPays = level ? levelPayScales[level] : [];
      console.log("Available Basic Pays for level", level, ":", availableBasicPays);


      // Determine if the calculate button should be disabled
      const isCalculateDisabled = !gradePay || basicPay === 0 || !level;
      console.log("Is Calculate button disabled?", isCalculateDisabled);


      // Render the calculator UI using React.createElement
      return React.createElement('div', { className: 'calculator-card' },
        React.createElement('h1', { className: 'title' }, 'WB Employee 10/20 Years Benefit Calculator'),
        // Grade Pay selection
        React.createElement('div', { className: 'mb-6' },
          React.createElement('label', { className: 'label' }, 'Select Grade Pay:'),
          React.createElement('select', {
            value: gradePay,
            onChange: handleGradePayChange,
            className: 'select'
          },
            React.createElement('option', { value: '' }, 'Select Grade Pay'),
            // Map unique grade pays from the matrix for dropdown options
            [...new Set(payMatrix.map(item => item.gradePay))].sort((a, b) => a - b).map(gp =>
              React.createElement('option', { key: gp, value: gp }, gp)
            )
          )
        ),
        // Basic Pay selection (disabled until Grade Pay is selected)
        React.createElement('div', { className: 'mb-6' },
          React.createElement('label', { className: 'label' }, 'Select Basic Pay:'),
          React.createElement('select', {
            value: basicPay,
            onChange: handleBasicPayChange,
            className: 'select',
            disabled: !level // Disable if no level is selected
          },
            React.createElement('option', { value: '' }, level ? 'Select Basic Pay' : 'Select Grade Pay first'),
            // Map available basic pays for the selected level
            availableBasicPays.map(bp =>
              React.createElement('option', { key: bp, value: bp }, `₹${bp.toLocaleString()}`)
            )
          )
        ),
        // House Rent Allowance radio group
        React.createElement('div', { className: 'radio-group' },
          React.createElement('label', { className: 'label' }, 'House Rent Allowance:'),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'hraType',
              value: 'normal',
              checked: hraType === 'normal',
              onChange: handleHraTypeChange
            }),
            'Normal HRA (12%)'
          ),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'hraType',
              value: 'fixed',
              checked: hraType === 'fixed',
              onChange: handleHraTypeChange
            }),
            'Fixed HRA'
          ),
          hraType === 'fixed' && React.createElement('input', {
            type: 'number',
            className: 'input mt-2',
            value: fixedHra,
            onChange: handleFixedHraChange,
            placeholder: 'Enter Fixed HRA Amount'
          }),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'hraType',
              value: 'none',
              checked: hraType === 'none',
              onChange: handleHraTypeChange
            }),
            'No HRA'
          )
        ),
        // Medical Allowance radio group
        React.createElement('div', { className: 'radio-group' },
          React.createElement('label', { className: 'label' }, 'Medical Allowance:'),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'maType',
              value: 'normal',
              checked: maType === 'normal',
              onChange: handleMaTypeChange
            }),
            'Normal MA (₹500)'
          ),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'maType',
              value: 'none',
              checked: maType === 'none',
              onChange: handleMaTypeChange
            }),
            'No MA'
          )
        ),
        // Non-Practicing Allowance radio group
        React.createElement('div', { className: 'radio-group' },
          React.createElement('label', { className: 'label' }, 'Non-Practicing Allowance (NPA):'),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'npaType',
              value: 'none',
              checked: npaType === 'none',
              onChange: handleNpaTypeChange
            }),
            'No NPA'
          ),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'npaType',
              value: '20',
              checked: npaType === '20',
              onChange: handleNpaTypeChange
            }),
            '20% of Basic Pay'
          ),
          React.createElement('label', { className: 'radio-label' },
            React.createElement('input', {
              type: 'radio',
              className: 'radio-input',
              name: 'npaType',
              value: '24',
              checked: npaType === '24',
              onChange: handleNpaTypeChange
            }),
            '24% of Basic Pay'
          )
        ),
        // GPF input
        React.createElement('div', { className: 'mb-6' },
          React.createElement('label', { className: 'label' }, 'General Provident Fund (GPF) Deduction:'),
          React.createElement('input', {
            type: 'number',
            className: 'input',
            value: gpf,
            onChange: handleGpfChange,
            placeholder: 'Enter GPF Amount'
          })
        ),
        // Extra Benefit input
        React.createElement('div', { className: 'mb-6' },
          React.createElement('label', { className: 'label' }, 'Extra benefit If any(HM/AHM Etc):'),
          React.createElement('input', {
            type: 'number',
            className: 'input',
            value: extraBenefit,
            onChange: handleExtraBenefitChange,
            placeholder: 'Enter Extra Benefit Amount'
          })
        ),
        // Calculate Button
        React.createElement('button', {
            className: 'calculate-button',
            onClick: handleCalculate,
            disabled: isCalculateDisabled
        }, 'Calculate'),

        // Results display section (conditionally rendered)
        showResults && calculatedResults && React.createElement('div', { className: 'results' },
          React.createElement('h2', { className: 'title' }, 'Calculation Results'),
          React.createElement('div', { className: 'results-list' },
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Old Basic Pay:'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.oldBasicPay.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Normal Increment (July) New Basic Pay:'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.normalIncrementBasicPay.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'New Basic Pay (10/20 Year Benefit):'),
              React.createElement('span', { className: 'grid-value highlight' }, `₹${calculatedResults.newBasicPay1020.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Dearness Allowance (DA) (18%):'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.da.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'House Rent Allowance (HRA):'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.hra.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Medical Allowance (MA):'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.ma.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Non-Practicing Allowance (NPA):'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.npa.toLocaleString()}`)
            ),
             React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Extra Benefit (HM/AHM Etc.):'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.extraBenefit.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Gross Salary:'),
              React.createElement('span', { className: 'grid-value highlight' }, `₹${calculatedResults.grossSalary.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Professional Tax:'),
              React.createElement('span', { className: 'grid-value' }, `₹${calculatedResults.pTax.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'GPF Deduction:'),
              React.createElement('span', { className: 'grid-value' }, `₹${(gpf ? parseInt(gpf) : 0).toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'In-Hand Salary:'),
              React.createElement('span', { className: 'grid-value highlight' }, `₹${calculatedResults.inHandSalary.toLocaleString()}`)
            ),
            React.createElement('div', { className: 'result-item' },
              React.createElement('span', { className: 'grid-label' }, 'Yearly Increment Benefit:'),
              React.createElement('span', { className: 'grid-value highlight' }, `₹${calculatedResults.incrementBenefit.toLocaleString()}`)
            )
          )
        )
      );
    };

    // Ensure the DOM is fully loaded before rendering the React app
    document.addEventListener('DOMContentLoaded', () => {
        console.log("DOMContentLoaded fired. Attempting to mount React app.");
        const container = document.getElementById('root');
        if (container) {
            try {
                console.log("Creating React root...");
                const root = ReactDOM.createRoot(container);
                console.log("Rendering React app...");
                root.render(React.createElement(SalaryCalculator, null));
                console.log("React app mounted successfully.");
            } catch (error) {
                console.error("Error mounting React app:", error);
            }
        } else {
            console.error('Root element not found. React app cannot be mounted.');
        }
    });
</script>
</body>
</html>
